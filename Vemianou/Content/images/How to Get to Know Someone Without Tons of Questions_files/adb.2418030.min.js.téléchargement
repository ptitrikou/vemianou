/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. a7b6d499:kkys9yw8:1mr */
!function n(r,o,a){function s(i,e){if(!o[i]){if(!r[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);throw new Error("Cannot find module '"+i+"'")}t=o[i]={exports:{}};r[i][0].call(t.exports,function(e){var t=r[i][1][e];return s(t||e)},t,t.exports,n,r,o,a)}return o[i].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){var e=s(["dcn=","&pos=","&cmd=bid",""]);return n=function(){return e},e}function r(){var e=s(["","/bidRequest?"]);return r=function(){return e},e}function o(){var e=s(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return o=function(){return e},e}function s(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=e("../shim.js").polyfills,c=d.utils,d=(d.registerBidder,d.BANNER),u={AOL:"aol",VERIZON:"verizon",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},p={GET:"display-get"},l={GET:"mobile-get",POST:"mobile-post"},g={TAG:"iframe",TYPE:"iframe"},f={TAG:"img",TYPE:"image"},m=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],h=w(o(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),b=w(r(),"host"),_=w(n(),"dcn","pos","dynamicParams"),v={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},y="https",x=1;function w(o){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var n=i[i.length-1]||{},r=[o[0]];return a.forEach(function(e,t){e=(c.isInteger(e)?i:n)[e];r.push(e,o[t+1])}),r.join("")}}function A(e){return e===u.AOL||e===u.VERIZON||e===u.ONEMOBILE}function S(e){if(A(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){e=e.params.imp[0];return e.id&&e.tagid&&(e.banner&&e.banner.w&&e.banner.h||e.video&&e.video.mimes&&e.video.minduration&&e.video.maxduration)}}function I(e){return A(e.bidder)&&e.params.dcn&&e.params.pos}function z(e){return((t=e.bidder)===u.AOL||t===u.VERIZON||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}function C(e){return e.userIdAsEids.filter(function(e){return-1!==m.indexOf(e.source)})}d={code:u.AOL,gvlid:25,aliases:[u.ONEMOBILE,u.ONEDISPLAY,u.VERIZON],supportedMediaTypes:[d],isBidRequestValid:function(e){return z(e)||(I(e=e)||S(e))},buildRequests:function(e,t){var i=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map(function(e){var t,t=I(t=e)?l.GET:S(t)?l.POST:z(t)?p.GET:void 0;if(t)return i.formatBidRequest(t,e,n)})},interpretResponse:function(e,t){var i=e.body;if(i){e=this._parseBidResponse(i,t);if(e)return e}else c.logError("Empty bid response",t.bidderCode,i)},getUserSyncs:function(e,t){t=!c.isEmpty(t)&&t[0].body;return t&&t.ext&&t.ext.pixels?this.parsePixelItems(t.ext.pixels):[]},formatBidRequest:function(e,t,i){var n;switch(e){case p.GET:n={url:this.buildMarketplaceUrl(t,i),method:"GET",ttl:60};break;case l.GET:n={url:this.buildOneMobileGetUrl(t,i),method:"GET",ttl:3600};break;case l.POST:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,i),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,t){var i=e.params,n=i.server,e=i.region||"us";return v.hasOwnProperty(e)||(c.logWarn("Unknown region '".concat(e,"' for AOL bidder.")),e="us"),n=n||v[e],i.region=e,this.applyProtocol(h({host:n,network:i.network,placement:parseInt(i.placement),pageid:i.pageId||0,sizeid:i.sizeId||0,alias:i.alias||c.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(i,t)}))},buildOneMobileGetUrl:function(e,t){var i=e.params,n=i.dcn,r=i.pos,o=i.ext;"object"===a(e.userId)&&(o=o||{},C(e).forEach(function(e){o["eid"+e.source]=e.uids[0].id}));e=this.buildOneMobileBaseUrl(e);return n&&r&&(t=this.formatOneMobileDynamicParams(o,t),e+=_({dcn:n,pos:r,dynamicParams:t})),e},buildOneMobileBaseUrl:function(e){return this.applyProtocol(b({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat(y,":"):"".concat(y,"://")).concat(e)},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={};e.bidFloor&&(i.bidfloor=e.bidFloor),c.assign(i,this.formatKeyValues(e.keyValues)),c.assign(i,this.formatConsentData(t));var n="";return c._each(i,function(e,t){n+="".concat(t,"=").concat(encodeURIComponent(e),";")}),n},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=x),c.assign(e,this.formatConsentData(t));var i="";return c._each(e,function(e,t){i+="&".concat(t,"=").concat(encodeURIComponent(e))}),i},buildOpenRtbRequestData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(c.deepSetValue(i,"regs.ext.gdpr",x),t.gdpr.consentString&&c.deepSetValue(i,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&c.deepSetValue(i,"regs.ext.us_privacy",t.uspConsent),"object"===a(e.userId)&&(i.user=i.user||{},i.user.ext=i.user.ext||{},0<(e=C(e)).length&&(i.user.ext.eids=e)),i},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var i={};return c._each(e,function(e,t){i["kv".concat(t)]=e}),i},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=x,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var i=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,r=[];return!e||(e=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(function(e){var t=e.match(i)[0],e=e.match(n)[2];t&&t&&r.push({type:(t===f.TAG?f:g).TYPE,url:e})}),r},_parseBidResponse:function(e,t){var i,n;try{i=e.seatbid[0].bid[0]}catch(e){return}if(i.ext&&i.ext.encp)n=i.ext.encp;else if(null===(n=i.price)||isNaN(n))return void c.logError("Invalid price in bid response",u.AOL,i);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:i.adm,cpm:n,width:i.w,height:i.h,creativeId:i.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:i.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:A,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:d,unitIDKey:"placement",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],2:[function(e,t,i){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var r=e("../shim.js").polyfills,u=r.Renderer,_=r.utils,v=r.config,p=(r.registerBidder,r.getIabSubCategory),a=r.BANNER,l=r.NATIVE,s=r.VIDEO,g=r.ADPOD,d=r.auctionManager,y=r.find,x=r.includes,f=r.OUTSTREAM,m=r.INSTREAM,c=r.getStorageManager,r="appnexus",w="https://ib.adnxs.com/ut/v3/prebid",h=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],A=["age","externalUid","segments","gender","dnt","language"],S=["geo","device_id"],I=["enabled","dongle","member_id","debug_timeout"],z={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},C={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},j="<script",R=/\/\/cdn\.adnxs\.com\/v/,k="trk.js",E=c(32,r),r={code:r,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[a,s,l],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=e.map(O),i=y(e,U),r={};!0===v.getConfig("coppa")&&(r={coppa:!0}),i&&Object.keys(i.params.user).filter(function(e){return x(A,e)}).forEach(function(e){var t=_.convertCamelToUnderscore(e);r[t]=i.params.user[e]});var o,a=y(e,q);a&&a.params&&a.params.app&&(o={},Object.keys(a.params.app).filter(function(e){return x(S,e)}).forEach(function(e){return o[e]=a.params.app[e]}));var s=y(e,N);s&&s.params&&a.params.app&&a.params.app.id&&(h={appid:s.params.app.id});var d={},c={},u=E.getCookie("apn_prebid_debug")||null;if(u)try{d=JSON.parse(u)}catch(e){_.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var p=y(e,L);p&&p.debug&&(d=p.debug)}d&&d.enabled&&Object.keys(d).filter(function(e){return x(I,e)}).forEach(function(e){c[e]=d[e]});var l=y(e,M),g=l?parseInt(l.params.member,10):0,p=e[0].schain,l=y(e,H),f={tags:b(n),user:r,sdk:{source:"pbjs",version:"4.18.0-pre"},schain:p};l&&(f.iab_support={omidpn:"Appnexus",omidpv:"4.18.0-pre"}),0<g&&(f.member_id=g),a&&(f.device=o),s&&(f.app=h),v.getConfig("adpod.brandCategoryExclusion")&&(f.brand_category_uniqueness=!0),c.enabled&&(f.debug=c,_.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(f.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(f.us_privacy=t.uspConsent),t&&t.refererInfo&&(m={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},f.referrer_detection=m),y(e,F)&&e.filter(F).forEach(function(t){var e=function(e,t){var i=t.mediaTypes.video,n=i.durationRangeSec,r=i.requireExactDuration,i=function(e){var t=e.adPodDurationSec,i=e.durationRangeSec,n=e.requireExactDuration,e=_.getMinValueFromArray(i),e=Math.floor(t/e);return n?Math.max(e,i.length):e}(t.mediaTypes.video),o=_.getMaxValueFromArray(n),e=e.filter(function(e){return e.uuid===t.bidId}),e=_.fill.apply(_,b(e).concat([i]));{var a;r?(i=Math.ceil(i/n.length),a=_.chunk(e,i),n.forEach(function(t,e){a[e].map(function(e){G(e,"minduration",t),G(e,"maxduration",t)})})):e.map(function(e){return G(e,"maxduration",o)})}return e}(n,t),i=f.tags.filter(function(e){return e.uuid!==t.bidId});f.tags=[].concat(b(i),b(e))});var m,s=_.deepAccess(e[0],"userId.criteoId"),h=[];s&&((m=[]).push({provider:"criteo",user_id:s}),h.push({source:"criteo.com",id:s}),f.tpuids=m);e=_.deepAccess(e[0],"userId.tdid");return e&&h.push({source:"adserver.org",id:e,rti_partner:"TDID"}),h.length&&(f.eids=h),n[0].publisher_id&&(f.publisher_id=n[0].publisher_id),function(e,t){var i=[],n={};!function(e){var t=!0;e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==_.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")));return t}(t)&&(n={withCredentials:!1});{var r;15<e.tags.length?(r=_.deepClone(e),_.chunk(e.tags,15).forEach(function(e){r.tags=e;e=JSON.stringify(r);i.push({method:"POST",url:w,data:e,bidderRequest:t,options:n})})):(e=JSON.stringify(e),i={method:"POST",url:w,data:e,bidderRequest:t,options:n})}return i}(f,t)},interpretResponse:function(e,t){var i=this,n=t.bidderRequest;e=e.body;var r=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,t=(t=e)&&t.ads&&t.ads.length&&y(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&x(i.supportedMediaTypes,t.ad_type)&&((e=function(t,e,i){var n=_.getBidRequest(t.uuid,[i]),r={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(r.meta=_.assign({},r.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video)switch(_.assign(r,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),_.deepAccess(n,"mediaTypes.video.context")){case g:var o=p(n.bidder,e.brand_category_id);r.meta=_.assign({},r.meta,{primaryCatId:o});var o=e.deal_priority;r.video={context:g,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:o},r.vastUrl=e.rtb.video.asset_url;break;case f:r.adResponse=t,r.adResponse.ad=r.adResponse.ads[0],r.adResponse.ad.video=r.adResponse.ad.rtb.video,r.vastXml=e.rtb.video.content,e.renderer_url&&(o=y(i.bids,function(e){return e.bidId===t.uuid}),o=_.deepAccess(o,"renderer.options"),r.renderer=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=u.install({id:t.renderer_id,url:t.renderer_url,config:i,loaded:!1,adUnitCode:e});try{n.setRender(V)}catch(e){_.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return _.logMessage("AppNexus outstream video impression event")},loaded:function(){return _.logMessage("AppNexus outstream video loaded event")},ended:function(){_.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(r.adUnitCode,e,o));break;case m:r.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[l]){var a=e.rtb[l],s=e.viewability.config.replace("src=","data-src="),d=a.javascript_trackers;null==d?d=s:_.isStr(d)?d=[d,s]:d.push(s),r[l]={title:a.title,body:a.desc,body2:a.desc2,cta:a.ctatext,rating:a.rating,sponsoredBy:a.sponsored,privacyLink:a.privacy_link,address:a.address,downloads:a.downloads,likes:a.likes,phone:a.phone,price:a.price,salePrice:a.saleprice,clickUrl:a.link.url,displayUrl:a.displayurl,clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:d},a.main_img&&(r.native.image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(r.native.icon={url:a.icon.url,height:a.icon.height,width:a.icon.width})}else{_.assign(r,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var c;e.rtb.trackers&&(c=e.rtb.trackers[0].impression_urls[0],c=_.createTrackPixelHtml(c),r.ad+=c)}catch(e){_.logError("Error appending tracking pixel",e)}}return r}(e,t,n)).mediaType=function(e){e=e.ad_type;return e===s?s:e===l?l:a}(t),r.push(e))}),e.debug&&e.debug.debug_info&&(o=(o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),_.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),_.logMessage(o)),r;var o="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),_.logError(o),r},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(i,e){return i=_.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:_.transformBidderParamKeywords,publisherId:"number"},i),e&&(i.use_pmt_rule="boolean"==typeof i.usePaymentRule&&i.usePaymentRule,i.usePaymentRule&&delete i.usePaymentRule,T(i.keywords)&&i.keywords.forEach(B),Object.keys(i).forEach(function(e){var t=_.convertCamelToUnderscore(e);t!==e&&(i[t]=i[e],delete i[e])})),i},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(_.isStr(e)&&D(e))t=e;else if(_.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];D(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(t)for(var e="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,i=function(e){var t=e.indexOf('src="')+5,i=e.indexOf('"',t);return e.substring(t,i)}(t),n=i.replace("dom_id=%native_dom_id%",e),r=document.getElementsByTagName("iframe"),o=!1,a=0;a<r.length&&!o;a++){var s=r[a];try{var d=s.contentDocument||s.contentWindow.document;if(d)for(var c=d.getElementsByTagName("script"),u=0;u<c.length&&!o;u++){var p=c[u];p.getAttribute("data-src")==i&&(p.setAttribute("src",n),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),o=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function T(e){return _.isArray(e)&&0<e.length}function B(e){T(e.value)&&""===e.value[0]&&delete e.value}function D(e){var t=e.match(R),i=null!=t&&1<=t.length,t=e.match(k),t=null!=t&&1<=t.length;return e.startsWith(j)&&t&&i}function O(i){var n,r,o={};o.sizes=P(i.sizes),o.primary_size=o.sizes[0],o.ad_types=[],o.uuid=i.bidId,i.params.placementId?o.id=parseInt(i.params.placementId,10):o.code=i.params.invCode,o.allow_smaller_sizes=i.params.allowSmallerSizes||!1,o.use_pmt_rule=i.params.usePaymentRule||!1,o.prebid=!0,o.disable_psa=!0,i.params.reserve&&(o.reserve=i.params.reserve),i.params.position&&(o.position={above:1,below:2}[i.params.position]||0),i.params.trafficSourceCode&&(o.traffic_source_code=i.params.trafficSourceCode),i.params.privateSizes&&(o.private_sizes=P(i.params.privateSizes)),i.params.supplyType&&(o.supply_type=i.params.supplyType),i.params.pubClick&&(o.pubclick=i.params.pubClick),i.params.extInvCode&&(o.ext_inv_code=i.params.extInvCode),i.params.publisherId&&(o.publisher_id=parseInt(i.params.publisherId,10)),i.params.externalImpId&&(o.external_imp_id=i.params.externalImpId),_.isEmpty(i.params.keywords)||(0<(e=_.transformBidderParamKeywords(i.params.keywords)).length&&e.forEach(B),o.keywords=e),i.mediaType!==l&&!_.deepAccess(i,"mediaTypes.".concat(l))||(o.ad_types.push(l),0===o.sizes.length&&(o.sizes=P([1,1])),i.nativeParams&&(n=i.nativeParams,r={},Object.keys(n).forEach(function(e){var t=C[e]&&C[e].serverName||C[e]||e,i=C[e]&&C[e].requiredParams;r[t]=_.assign({},i,n[e]),t!==C.image.serverName&&t!==C.icon.serverName||!r[t].sizes||(e=r[t].sizes,(_.isArrayOfNums(e)||_.isArray(e)&&0<e.length&&e.every(function(e){return _.isArrayOfNums(e)}))&&(r[t].sizes=P(r[t].sizes))),t===C.privacyLink&&(r.privacy_supported=!0)}),t=r,o[l]={layouts:[t]}));var e=_.deepAccess(i,"mediaTypes.".concat(s)),t=_.deepAccess(i,"mediaTypes.video.context");o.hb_source=e&&"adpod"===t?7:1,i.mediaType!==s&&!e||o.ad_types.push(s),(i.mediaType===s||e&&"outstream"!==t)&&(o.require_asset_url=!0),i.params.video&&(o.video={},Object.keys(i.params.video).filter(function(e){return x(h,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=i.params.video[e],t=_.isArray(t)?t[0]:t;o.video[e]=z[e][t];break;case"frameworks":break;default:o.video[e]=i.params.video[e]}}),i.params.video.frameworks&&_.isArray(i.params.video.frameworks)&&(o.video_frameworks=i.params.video.frameworks)),i.renderer&&(o.video=_.assign({},o.video,{custom_renderer_present:!0})),i.params.frameworks&&_.isArray(i.params.frameworks)&&(o.banner_frameworks=i.params.frameworks);t=y(d.getAdUnits(),function(e){return i.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&o.ad_types.push(a),0===o.ad_types.length&&delete o.ad_types,o}function P(e){var t=[],i={};if(_.isArray(e)&&2===e.length&&!_.isArray(e[0]))i.width=parseInt(e[0],10),i.height=parseInt(e[1],10),t.push(i);else if("object"===o(e))for(var n=0;n<e.length;n++){var r=e[n];(i={}).width=parseInt(r[0],10),i.height=parseInt(r[1],10),t.push(i)}return t}function U(e){return!!e.params.user}function M(e){return!!parseInt(e.params.member,10)}function q(e){if(e.params)return!!e.params.app}function N(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function L(e){return!!e.debug}function F(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===g}function H(e){var t=!1,i=e.params,n=e.params.video;return i.frameworks&&_.isArray(i.frameworks)&&(t=x(e.params.frameworks,6)),!t&&n&&n.frameworks&&_.isArray(n.frameworks)&&(t=x(e.params.video.frameworks,6)),t}function G(e,t,i){_.isEmpty(e.video)&&(e.video={}),e.video[t]=i}function V(e){var t;t=e.adUnitCode,(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}.bind(null,e))})}t.exports=e("../shim.js").wrap({spec:r,unitIDKey:"placementId",floorKey:"reserve",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],3:[function(e,t,i){"use strict";function T(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function B(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){var t,i;t=n,e=r[i=e],i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,O=r.utils,y=r.BANNER,x=r.VIDEO,P=r.config,g=r.find,a=r.isInteger,s=(r.registerBidder,[y,x]),f=100,m=300,h=3600,b=!0,_={JPY:1};function w(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function d(e){return Array.isArray(e)&&2===e.length&&a(e[0])&&a(e[1])}function A(e,t){if(d(e))return e[0]===t[0]&&e[1]===t[1];for(var i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return 1}function S(e,t,i,n){var r,o,a,s,d=[],c="https://htlb.casalemedia.com/cygnus",u={},p=e[0].userId;if(p&&"object"===D(p)&&p.idl_env&&(r=d,o=u,a=p.idl_env,s="liveramp.com",p="LiveRampIp",m="idl",a?(o[p]=1,r.push({source:s,uids:[{id:a,ext:{rtiPartner:m}}]})):O.logWarn("Tried to add a user ID from Prebid, the ID received was null")),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var l,g=window.headertag.getIdentityInfo();if(g&&"object"===D(g))for(var f in g)g.hasOwnProperty(f)&&(u.hasOwnProperty(f)||!(l=g[f]).responsePending&&l.data&&"object"===D(l.data)&&Object.keys(l.data).length&&d.push(l.data))}var m,h={};h.id=e[0].bidderRequestId,h.site={},h.ext={},h.ext.source="prebid",h.ext.ixdiag={},e[0].schain&&(h.source={ext:{schain:e[0].schain}}),0<d.length&&(h.user={},h.user.eids=d),document.referrer&&""!==document.referrer&&(h.site.ref=document.referrer),t&&(t.gdprConsent&&((m=t.gdprConsent).hasOwnProperty("gdprApplies")&&(h.regs={ext:{gdpr:m.gdprApplies?1:0}}),m.hasOwnProperty("consentString")&&(h.user=h.user||{},h.user.ext={consent:m.consentString||""})),t.uspConsent&&O.deepSetValue(h,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(h.site.page=t.refererInfo.referer));var b={},t=t&&t.bidderCode||"ix",t=P.getConfig(t);if(t){if("object"===D(t.firstPartyData)){var _,v=t.firstPartyData,y="?";for(_ in v)v.hasOwnProperty(_)&&(y+="".concat(encodeURIComponent(_),"=").concat(encodeURIComponent(v[_]),"&"));y=y.slice(0,-1),h.site.page+=y}"number"==typeof t.timeout&&(b.t=t.timeout),"boolean"==typeof t.detectMissingSizes?h.ext.ixdiag.dms=t.detectMissingSizes:h.ext.ixdiag.dms=!0}b.s=e[0].params.siteId,b.v=n,b.ac="j",b.sd=1,8.1===n&&(b.nf=1);var x=[],e={method:"GET",url:c,data:b},w=new Blob(["".concat(e.url).concat(O.parseQueryStringParameters(B(B({},e.data),{},{r:JSON.stringify(h)})))]).size,A=w,S=0,I=0,z=0;h.ext.ixdiag.msd=0,h.ext.ixdiag.msi=0,h.imp=[];for(var C,j,R=0,k=Object.keys(i),E=[];R<k.length&&x.length<4;)i[k[R]].hasOwnProperty("missingCount")&&(z=i[k[R]].missingCount),function(e,t){var i=new Blob([encodeURIComponent(JSON.stringify(e))]).size;if(!(i<t))for(;t<i;)e.hasOwnProperty("missingImps")&&0<e.missingImps.length?e.missingImps.pop():e.hasOwnProperty("ixImps")&&0<e.ixImps.length&&e.ixImps.pop(),i=new Blob([encodeURIComponent(JSON.stringify(e))]).size}(i[k[R]],8e3-w),i[k[R]].hasOwnProperty("missingImps")&&(I=i[k[R]].missingImps.length),(A+=new Blob([encodeURIComponent(JSON.stringify(i[k[R]]))]).size)<8e3?((C=h.imp).push.apply(C,T(i[k[R]].ixImps)),h.ext.ixdiag.msd+=z,h.ext.ixdiag.msi+=I,i[k[R]].hasOwnProperty("missingImps")&&E.push.apply(E,T(i[k[R]].missingImps)),R++):(j=O.deepClone(b),(C=h.imp).push.apply(C,T(E)),h.ext.ixdiag.sn=S,j.sn=S,S++,j.r=JSON.stringify(h),x.push({method:"GET",url:c,data:j}),E=[],A=w,h.imp=[],I=z=0,h.ext.ixdiag.msd=0,h.ext.ixdiag.msi=0);return w<A&&A<8e3&&x.length<4&&(n=O.deepClone(b),(e=h.imp).push.apply(e,T(E)),0<x.length&&(h.ext.ixdiag.sn=S,n.sn=S),n.r=JSON.stringify(h),x.push({method:"GET",url:c,data:n})),x}function I(e,t){for(var i=0;i<e.length;i++)if(t[0]==e[i][0]&&t[1]==e[i][1])return e.splice(i,1),1}r={code:"ix",gvlid:10,supportedMediaTypes:s,isBidRequestValid:function(e){if(!d(e.params.size))return O.logError("ix bidder params: bid size has invalid format."),!1;if(!A(e.sizes,e.params.size))return O.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!O.contains(s,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!O.deepAccess(e,"mediaTypes.banner.sizes")&&!O.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return O.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!i||t&&i&&(i=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof i&&"string"==typeof e&&e.match(/^[A-Z]{3}$/))))||(O.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var i,n,r,o,a,s,d,c=[],u={},p={},l=null,g={},f=B(B({},{detectMissingSizes:!0}),P.getConfig("ix")),m=0;m<e.length;m++)(l=e[m]).mediaType!==x&&!O.deepAccess(l,"mediaTypes.video")||(l.mediaType===x||A(l.mediaTypes.video.playerSize,l.params.size)?(p.hasOwnProperty(l.transactionId)||(p[l.transactionId]={}),p[l.transactionId].hasOwnProperty("ixImps")||(p[l.transactionId].ixImps=[]),p[l.transactionId].ixImps.push((a=void 0,(a=w(o=l)).video=O.deepClone(o.params.video),a.video.w=o.params.size[0],a.video.h=o.params.size[1],(o=O.deepAccess(o,"mediaTypes.video.context"))&&("instream"===o?a.video.placement=1:"outstream"===o?a.video.placement=4:O.logWarn("ix bidder params: video context '".concat(o,"' is not supported"))),a))):O.logError("Bid size is not included in video playerSize")),l.mediaType!==y&&!O.deepAccess(l,"mediaTypes.banner")&&(l.mediaType||l.mediaTypes)||(r=void 0,(r=w(n=l)).banner={},r.banner.w=n.params.size[0],r.banner.h=n.params.size[1],r.banner.topframe=O.inIframe()?0:1,i=r,u.hasOwnProperty(l.transactionId)||(u[l.transactionId]={}),u[l.transactionId].hasOwnProperty("ixImps")||(u[l.transactionId].ixImps=[]),u[l.transactionId].ixImps.push(i),f.hasOwnProperty("detectMissingSizes")&&f.detectMissingSizes&&(o=g,a=i,r=n=void 0,r=(i=l).transactionId,o.hasOwnProperty(r)?(n=[],o[r].hasOwnProperty("missingSizes")&&(n=o[r].missingSizes),I(n,i.params.size),o[r].missingSizes=n):O.deepAccess(i,"mediaTypes.banner.sizes")&&(I(n=O.deepClone(i.mediaTypes.banner.sizes),i.params.size),a={missingSizes:n,impression:a},o[r]=a)));for(s in g)if(g.hasOwnProperty(s)){var h=g[s].missingSizes;u.hasOwnProperty(s)||(u[s]={}),u[s].hasOwnProperty("missingImps")||(u[s].missingImps=[],u[s].missingCount=0);for(var b=g[s].impression,_=0;_<h.length;_++){var v=(v=b,d=h[_],(v=O.deepClone(v)).ext.sid="".concat(d[0],"x").concat(d[1]),v.banner.w=d[0],v.banner.h=d[1],v);u[s].missingImps.push(v),u[s].missingCount++}}return 0<Object.keys(u).length&&c.push.apply(c,T(S(e,t,u,7.2))),0<Object.keys(p).length&&c.push.apply(c,T(S(e,t,p,8.1))),c},interpretResponse:function(e,t){var i=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return i;for(var n,r,o,a=e.body,s=a.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid"))for(var c=s[d].bid,u=JSON.parse(t.data.r),p=0;p<c.length;p++){var l=function(t,e){if(t)return g(e,function(e){return e.id===t})}(c[p].impid,u.imp);n=c[p],r=a.cur,o=l,l=void 0,l={},_.hasOwnProperty(r)?l.cpm=n.price/_[r]:l.cpm=n.price/f,l.requestId=n.impid,l.dealId=O.deepAccess(n,"ext.dealid"),l.netRevenue=b,l.currency=r,l.creativeId=n.hasOwnProperty("crid")?n.crid:"-",O.deepAccess(n,"ext.vasturl")?(l.vastUrl=n.ext.vasturl,l.width=o.video.w,l.height=o.video.h,l.mediaType=x,l.ttl=h):(l.ad=n.adm,l.width=n.w,l.height=n.h,l.mediaType=y,l.ttl=m),l.meta={},l.meta.networkId=O.deepAccess(n,"ext.dspid"),l.meta.brandId=O.deepAccess(n,"ext.advbrandid"),l.meta.brandName=O.deepAccess(n,"ext.advbrand"),n.adomain&&0<n.adomain.length&&(l.meta.advertiserDomains=n.adomain),i.push(l)}return i},transformBidParams:function(e,t){return O.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.exports=e("../shim.js").wrap({spec:r,unitIDKey:"siteId",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],4:[function(e,t,i){"use strict";var n=e("../shim.js").polyfills,p=(n.registerBidder,n.utils),l=n.config,r=n.BANNER,o=n.NATIVE,a=n.VIDEO,s=n.getRefererInfo,d=n.Renderer,c="medianet",u="https://prebid.media.net/video/bundle.js",g={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},f="client_timeout",m="client_bid_won",s=s(),h={};function b(e){e={domain:(e=e||{}).domain||h.urlData.domain,page:e.page||h.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||h.urlData.isTop};return p.assign(e,function(){if(h.pageMeta)return h.pageMeta;var e=_('link[rel="canonical"]',"href"),t=_('meta[property="og:url"]',"content"),i=_('meta[name="twitter:url"]',"content");return h.pageMeta=p.assign({},e&&{canonical_url:e},t&&{og_url:t},i&&{twitter_url:i}),h.pageMeta}())}function _(e,t){e=function(e,t){try{var i=p.getWindowTop().document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return e&&(t=e,(e=p.getWindowTop().document.createElement("a")).href=t,e.href)}function v(e,t){return e.filter(function(e){return e.type===t})}function y(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function x(e){var t={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},i=p.deepAccess(e,"mediaTypes.banner.sizes")||[],n=p.deepAccess(e,"mediaTypes.video")||{},r=p.deepAccess(e,"params.video")||{},n=p.assign({},r,n);if(p.isEmpty(n)||(t.video=n),0<i.length&&(t.banner=(o=i,p.isArray(o)&&2===o.length&&!p.isArray(o[0])?[y(o)]:o.map(y))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){p.logError("".concat(c," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());i=parseFloat(e.params.bidfloor||e.params.bidFloor);i&&(t.bidfloor=i);var o=function(e){if((i=document.getElementById(e))||-1===e.indexOf("/")||(t=p.getGptSlotInfoForAdUnitCode(e).divId,p.isStr(t)&&(i=document.getElementById(t))),i&&i.getBoundingClientRect){var t=i.getBoundingClientRect(),i={};return i.top_left={y:t.top,x:t.left},i.bottom_right={y:t.bottom,x:t.right},i}return null}(e.adUnitCode);return o&&t.banner&&0!==t.banner.length?(i={top_left:{x:(i=o).top_left.x+window.pageXOffset,y:i.top_left.y+window.pageYOffset},bottom_right:{x:i.bottom_right.x+window.pageXOffset,y:i.bottom_right.y+window.pageYOffset}},t.ext.coordinates=i,t.ext.viewability=A(o.top_left,w(t.banner)),.5<A(i.top_left,w(t.banner))?t.ext.visibility=g.ABOVE_THE_FOLD:t.ext.visibility=g.BELOW_THE_FOLD):t.ext.visibility=g.NOT_DETERMINED,t}function w(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function A(e,t){var i=t.w*t.h,n=C.getWindowSize(),t={x:e.x+t.w,y:e.y+t.h};return 0==i||-1===n.w||-1===n.h?0:function(e,t,i,n){if(e.x>n.x||t.x<i.x||e.y>n.y||t.y<i.y)return 0;return(Math.min(t.x,n.x)-Math.max(e.x,i.x))*(Math.min(t.y,n.y)-Math.max(e.y,i.y))}(e,t,{x:0,y:0},{x:n.w,y:n.h})/i}function S(e,t){return{site:b(e[0].params.site),ext:(i=e[0],n=t,r=p.deepAccess(i,"params"),o=p.deepAccess(n,"gdprConsent"),a=p.deepAccess(n,"uspConsent"),s=p.deepAccess(i,"userId"),d=p.deepAccess(i,"schain")||{},c=C.getWindowSize(),u=!(!o||!o.gdprApplies),n=!!a,i=!!l.getConfig("coppa"),p.assign({},{customer_id:r.cid},{prebid_version:AdBridg.globals.version},{gdpr_applies:u},u&&{gdpr_consent_string:o.consentString||""},{usp_applies:n},n&&{usp_consent_string:a||""},{coppa_applies:i},-1!==c.w&&-1!==c.h&&{screen:c},s&&{user_id:s},AdBridg.globals.medianetGlobals.analyticsEnabled&&{analytics:!0},!p.isEmpty(d)&&{schain:d})),id:e[0].auctionId,imp:e.map(x),tmax:t.timeout||l.getConfig("bidderTimeout")};var i,n,r,o,a,s,d,c,u}function I(e,t){t={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=p.isArray(t)&&t||[];var i={logid:"kfk",evtid:"projectevents",project:"prebid"};return i.acid=p.deepAccess(t,"0.auctionId")||"",i.cid=AdBridg.globals.medianetGlobals.cid||"",i.crid=t.map(function(e){return p.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),i.adunit_count=t.length||0,i.dn=h.urlData.domain||"",i.requrl=h.urlData.page||"",i.istop=h.urlData.isTop||"",i.event=e.name||"",i.value=e.value||"",i.rd=e.related_data||"",i}(e,t)};p.triggerPixel(p.buildUrl(t))}function z(e){var t=p.deepAccess(e,"context")||"",i=p.deepAccess(e,"vto");"outstream"==t&&i&&(e.renderer=((e=d.install({url:u})).setRender(function(i){window.mnet.queue.push(function(){var e={width:i.width,height:i.height,vastTimeout:i.vto,maxAllowedVastTagRedirects:i.mavtr,allowVpaid:i.avp,autoPlay:i.ap,preload:i.pl,mute:i.mt},t=i.dfp_id,t=p.getGptSlotInfoForAdUnitCode(t).divId||t;window.mnet.mediaNetoutstreamPlayer(i,t,e)})}),e))}window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],h.urlData={domain:p.parseUrl(s.referer).hostname,page:s.referer,isTop:s.reachedTop},AdBridg.globals.medianetGlobals=AdBridg.globals.medianetGlobals||{};var C={code:c,gvlid:142,supportedMediaTypes:[r,o,a],isBidRequestValid:function(e){return e.params?e.params.cid&&p.isStr(e.params.cid)&&!p.isEmptyStr(e.params.cid)?(p.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(p.logError("".concat(c," : cid should be a string")),!1):(p.logError("".concat(c," : Missing bid parameters")),!1)},buildRequests:function(e,t){e=S(e,t);return{method:"POST",url:(t=e.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(t)),data:JSON.stringify(e)}},interpretResponse:function(e,t){var i=[];if(!e||!e.body)return p.logInfo("".concat(c," : response is empty")),i;e=e.body.bidList;return p.isArray(e)&&0!==e.length?(i=e.filter(function(e){return!1===(e=e).no_bid&&0<parseFloat(e.cpm)})).forEach(z):p.logInfo("".concat(c," : no bids")),i},getUserSyncs:function(e,t){t=t,t=!p.isEmpty(t)&&t[0].body&&t[0].body.ext&&p.isArray(t[0].body.ext.csUrl)?t[0].body.ext.csUrl:[];return e.iframeEnabled?v(t,"iframe"):e.pixelEnabled?v(t,"image"):void 0},onTimeout:function(e){try{I({name:f,value:e.length,related_data:e[0].timeout||l.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{I({name:m,value:e.cpm},[e])}catch(e){}},clearMnData:function(){h={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};t.exports=e("../shim.js").wrap({spec:C,unitIDKey:"crid",floorKey:"bidfloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],5:[function(e,t,i){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var o=e("../shim.js").polyfills,s=o.config,d=(o.registerBidder,o.utils),c=o.BANNER,a=o.VIDEO,u="hb_pb",p="3.0.3",l="USD",g={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},o={code:"openx",gvlid:69,supportedMediaTypes:[c,a],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return d.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<d.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var i=[],n=r(e.reduce(function(e,t){var i;return i=t,(d.deepAccess(i,"mediaTypes.video")&&!d.deepAccess(i,"mediaTypes.banner")||i.mediaType===a?e[0]:e[1]).push(t),e},[[],[]]),2),e=n[0],n=n[1];return 0<n.length&&i.push(function(e,t){var i=[],n=!1,r=f(e,t),t=d._map(e,function(e){return e.params.unit});r.aus=d._map(e,function(e){return d.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),r.divIds=d._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),t.some(function(e){return e})&&(r.auid=t.join(","));e.some(function(e){return e.params.doNotTrack})&&(r.ns=1);!0!==s.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1);e.forEach(function(t){var e;t.params.customParams?(e=d._map(Object.keys(t.params.customParams),function(e){return function(e,t){t=t[e];d.isArray(t)&&(t=t.join(","));return(e.toLowerCase()+"="+t.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),e=window.btoa(e.join("&")),n=!0,i.push(e)):i.push("")}),n&&(r.tps=i.join(","));var o=[],a=!1;e.forEach(function(e){e=function(e,t){var i={},n=s.getConfig("currency.adServerCurrency")||l;"function"==typeof e.getFloor&&(i=e.getFloor({currency:n,mediaType:t,size:"*"}));e=i.floor||e.params.customFloor||0;return Math.round(1e3*e)}(e,c);e?(o.push(e),a=!0):o.push(0)}),a&&(r.aumfs=o.join(","));return{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:r,payload:{bids:e,startTime:new Date}}}(n,t)),0<e.length&&e.forEach(function(e){i.push(function(e,t){t=function(e,t){var i,n,r=f([e],t),o=d.deepAccess(e,"params.video")||{},a=d.deepAccess(e,"mediaTypes.video.context"),t=d.deepAccess(e,"mediaTypes.video.playerSize");d.isArray(e.sizes)&&2===e.sizes.length&&!d.isArray(e.sizes[0])?(i=parseInt(e.sizes[0],10),n=parseInt(e.sizes[1],10)):d.isArray(e.sizes)&&d.isArray(e.sizes[0])&&2===e.sizes[0].length?(i=parseInt(e.sizes[0][0],10),n=parseInt(e.sizes[0][1],10)):d.isArray(t)&&2===t.length&&(i=parseInt(t[0],10),n=parseInt(t[1],10));Object.keys(o).forEach(function(e){"openrtb"===e?(o[e].w=i||o[e].w,o[e].v=n||o[e].v,r[e]=JSON.stringify(o[e])):e in r||"url"===e||(r[e]=o[e])}),r.auid=e.params.unit,r.vwd=i||o.vwd,r.vht=n||o.vht,"outstream"===a&&(r.vos="101");o.mimes&&(r.vmimes=o.mimes);e.params.test&&(r.vtest=1);return r}(e,t);return{method:"GET",url:t.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:t,payload:{bid:e,startTime:new Date}}}(e,t))}),i},interpretResponse:function(e,t){e=e.body;return((/avjp$/.test(t.url)?a:c)===a?function(e,t){var i=t.bid,n=(t.startTime,[]);{var r;void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(r=d.parseUrl(e.vastUrl).search||{},(t={}).requestId=i.bidId,t.ttl=300,t.netRevenue=!0,t.currency=e.currency,t.cpm=parseInt(e.pub_rev,10)/1e3,t.width=parseInt(e.width,10),t.height=parseInt(e.height,10),t.creativeId=e.adid,t.vastUrl=e.vastUrl,t.mediaType=a,e.ph=r.ph,e.colo=r.colo,e.ts=r.ts,n.push(t))}return n}:function(e,t){for(var i=t.bids,n=(t.startTime,e.ads.ad),r=[],o=0;o<n.length;o++){var a=n[o],s=parseInt(a.idx,10),d={};d.requestId=i[s].bidId,a.pub_rev&&(d.cpm=Number(a.pub_rev)/1e3,(s=a.creative[0])&&(d.width=s.width,d.height=s.height),d.creativeId=s.id,d.ad=a.html,a.deal_id&&(d.dealId=a.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=a.currency,a.tbd&&(d.tbd=a.tbd),d.ts=a.ts,d.meta={},a.brand_id&&(d.meta.brandId=a.brand_id),a.adv_id&&(d.meta.dspid=a.adv_id),r.push(d))}return r})(e,t.payload)},getUserSyncs:function(e,t,i,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:d.deepAccess(t,"0.body.ads.pixels")||d.deepAccess(t,"0.body.pixels")||function(e,t){var i=[];e&&(i.push("gdpr="+(e.gdprApplies?1:0)),i.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&i.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<i.length?"?"+i.join("&"):"")}(i,n)}]},transformBidParams:function(e,t){return d.convertTypes({unit:"string",customFloor:"number"},e)}};function f(e,t){var n,i=d.inIframe(),r={ju:s.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:i,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,i,n=window,r=document,o=r.documentElement;if(e){try{n=window.top,r=window.top.document}catch(e){return}o=r.documentElement,i=r.body,t=n.innerWidth||o.clientWidth||i.clientWidth,i=n.innerHeight||o.clientHeight||i.clientHeight}else o=r.documentElement,t=n.innerWidth||o.clientWidth,i=n.innerHeight||o.clientHeight;return"".concat(t,"x").concat(i)}(i),be:1,bc:e[0].params.bc||"".concat(u,"_").concat(p),dddid:d._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(r.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(i=t.gdprConsent).consentString&&(r.gdpr_consent=i.consentString),void 0!==i.gdprApplies&&(r.gdpr=i.gdprApplies?1:0),"iab"===s.getConfig("consentManagement.cmpApi")&&(r.x_gdpr_f=1)),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),d.deepAccess(e[0],"crumbs.pubcid")&&d.deepSetValue(e[0],"userId.pubcid",d.deepAccess(e[0],"crumbs.pubcid")),n=r,t=e[0].userId,d._each(t,function(e,t){var i=g[t];if(g.hasOwnProperty(t))switch(t){case"digitrustid":n[i]=d.deepAccess(e,"data.id");break;case"lipb":n[i]=e.lipbid;break;case"parrableId":n[i]=e.eid;break;case"id5id":n[i]=e.uid;break;default:n[i]=e}}),r=n,e[0].schain&&(r.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat(function(e){var i=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return i.map(function(e){return t[e]||""}).join(",")}).join("!")}(e.nodes)))),r}t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"unit",floorKey:"customFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],6:[function(e,t,i){"use strict";function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,m=r.utils,o=r.BANNER,l=r.VIDEO,h=r.config,b=r.find,_=(r.registerBidder,{});h.getConfig("rubicon",function(e){m.mergeDeep(_,e.rubicon)});var c={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};m._each(c,function(e,t){return c[e]=t});var v={code:"rubicon",gvlid:52,supportedMediaTypes:[o,l],isBidRequestValid:function(e){if("object"!==f(e.params))return!1;for(var t=0,i=["accountId","siteId","zoneId"];t<i.length;t++)if(e.params[i[t]]=parseInt(e.params[i[t]]),isNaN(e.params[i[t]]))return m.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n,r,o,a,s=w(e,!0);return!!s&&("video"!==s||(n=e,r=!0,o=Object.prototype.toString.call([]),s=Object.prototype.toString.call(0),a={mimes:o,protocols:o,maxduration:s,linearity:s,api:o},Object.keys(a).forEach(function(e){Object.prototype.toString.call(m.deepAccess(n,"mediaTypes.video."+e))!==a[e]&&(r=!1,m.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),r))},buildRequests:function(e,u){var r,t=e.filter(function(e){return"video"===w(e)}).map(function(i){i.startTime=(new Date).getTime();var e,t,n,r,o,a={id:i.transactionId,test:h.getConfig("debug")?1:0,cur:["USD"],source:{tid:i.transactionId},tmax:u.timeout,imp:[{exp:h.getConfig("s2sConfig.defaultTtl"),id:i.adUnitCode,secure:1,ext:p({},i.bidder,i.params),video:m.deepAccess(i,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===_.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(r=h).getConfig("customPriceBucket")&&r.getConfig("customPriceBucket").buckets}[r.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:_.int_type||"pbjs"}}}}};if("rubicon"!==i.bidder&&(a.ext.prebid.aliases=p({},i.bidder,"rubicon")),"function"!=typeof i.getFloor||_.disableFloors)o=parseFloat(m.deepAccess(i,"params.floor"));else{try{e=i.getFloor({currency:"USD",mediaType:"video",size:x(i,"video")})}catch(e){m.logError("Rubicon: getFloor threw an error: ",e)}o="object"!==f(e)||"USD"!==e.currency||isNaN(parseInt(e.floor))?void 0:parseFloat(e.floor)}isNaN(o)||(a.imp[0].bidfloor=o),a.imp[0].ext[i.bidder].video.size_id=(r=i,o=parseInt(m.deepAccess(r,"params.video.size_id")),isNaN(o)?"outstream"===m.deepAccess(r,"mediaTypes.".concat(l,".context"))?203:201:o),n=i,r=u,(t=a)&&("object"===f(h.getConfig("app"))?t.app=h.getConfig("app"):t.site={page:y(n,r)},"object"===f(h.getConfig("device"))&&(t.device=h.getConfig("device")),n.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=m.assign({language:n.params.video.language},t[e].content))})),o=i,"object"===f((r=a).imp[0].video)&&void 0===r.imp[0].video.skip&&(r.imp[0].video.skip=o.params.video.skip),"object"===f(r.imp[0].video)&&void 0===r.imp[0].video.skipafter&&(r.imp[0].video.skipafter=o.params.video.skipdelay),"object"===f(r.imp[0].video)&&void 0===r.imp[0].video.pos&&("atf"===o.params.position?r.imp[0].video.pos=1:"btf"===o.params.position&&(r.imp[0].video.pos=3)),o=x(o,"video"),r.imp[0].video.w=o[0],r.imp[0].video.h=o[1],u.gdprConsent&&("boolean"==typeof u.gdprConsent.gdprApplies&&(s=u.gdprConsent.gdprApplies?1:0),m.deepSetValue(a,"regs.ext.gdpr",s),m.deepSetValue(a,"user.ext.consent",u.gdprConsent.consentString)),u.uspConsent&&m.deepSetValue(a,"regs.ext.us_privacy",u.uspConsent);var s=m.deepAccess(u,"bids.0.userIdAsEids");s&&s.length&&(m.deepSetValue(a,"user.ext.eids",s),(d=b(a.user.ext.eids,function(e){return"liveintent.com"===e.source}))&&(m.deepSetValue(a,"user.ext.tpid",{source:d.source,uid:d.uids[0].id}),d.ext&&d.ext.segments&&m.deepSetValue(a,"rp.target.LIseg",d.ext.segments)));s=h.getConfig("user.id");s&&m.deepSetValue(a,"user.id",s),!0===h.getConfig("coppa")&&m.deepSetValue(a,"regs.coppa",1),i.schain&&A(i.schain)&&m.deepSetValue(a,"source.ext.schain",i.schain);var d=m.assign({},i.params.inventory,h.getConfig("fpd.context")),s=m.assign({},i.params.visitor,h.getConfig("fpd.user"));m.isEmpty(d)&&m.isEmpty(s)||(c={bidders:[u.bidderCode],config:{fpd:{}}},m.isEmpty(d)||(c.config.fpd.site=d),m.isEmpty(s)||(c.config.fpd.user=s),m.deepSetValue(a,"ext.prebid.bidderconfig.0",c));var c=m.deepAccess(i,"fpd.context.pbAdSlot");return"string"==typeof c&&c&&m.deepSetValue(a.imp[0].ext,"context.data.pbadslot",c),["name","adSlot"].forEach(function(e){var t=m.deepAccess(i,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&m.deepSetValue(a.imp[0].ext,"context.data.adserver.".concat(e.toLowerCase()),t)}),i.storedAuctionResponse&&m.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",i.storedAuctionResponse.toString()),m.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",u.auctionStart),{method:"POST",url:"https://".concat(_.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:a,bidRequest:i}});return!0!==_.singleRequest?t.concat(e.filter(function(e){return"banner"===w(e)}).map(function(e){var n=v.createSlotParams(e,u);return{method:"GET",url:"https://".concat(_.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:v.getOrderedParams(n).reduce(function(e,t){var i=n[t];return m.isStr(i)&&""!==i||m.isNumber(i)?"".concat(e).concat(s(t,i),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(r=e.filter(function(e){return"banner"===w(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(r).reduce(function(t,e){var i,n;return i=r[e],n=10,i.map(function(e,t){return t%n==0?i.slice(t,t+n):null}).filter(function(e){return e}).forEach(function(e){var n=v.combineSlotUrlParams(e.map(function(e){return v.createSlotParams(e,u)}));t.push({method:"GET",url:"https://".concat(_.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:v.getOrderedParams(n).reduce(function(e,t){var i=n[t];return m.isStr(i)&&""!==i||m.isNumber(i)?"".concat(e).concat(s(t,i),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,i=/^tg_i/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","ppuid","eid_pubcid.org","eid_sharedid.org","eid_criteo.com","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return i.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter(function(e){return-1===n.indexOf(e)}))},combineSlotUrlParams:function(r){if(1===r.length)return r[0];var n=r.reduce(function(t,i,n){return Object.keys(i).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(n,1,i[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach(function(e){var t=n[e].join(";"),i=t.match(o);n[e]=i?i[1]:t}),n},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var i,n=e.params,r=x(e,"banner"),o=g(n.latLong||[],2),a=o[0],o=o[1],s={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:.01<(n.floor=parseFloat(n.floor))?n.floor:.01,rp_secure:"1",tk_flint:"".concat(_.int_type||"pbjs_lite","_v4.18.0-pre"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":e.code,rf:y(e,t)};if("function"==typeof e.getFloor&&!_.disableFloors){try{i=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){m.logError("Rubicon: getFloor threw an error: ",e)}s.rp_hard_floor="object"!==f(i)||"USD"!==i.currency||isNaN(parseInt(i.floor))?void 0:i.floor}s.p_pos="atf"===n.position||"btf"===n.position?n.position:"",e.userIdAsEids&&e.userIdAsEids.length&&((d=b(e.userIdAsEids,function(e){return"adserver.org"===e.source}))&&(s.tpid_tdid=d.uids[0].id),(d=b(e.userIdAsEids,function(e){return"liveintent.com"===e.source}))&&(s["tpid_liveintent.com"]=d.uids[0].id,d.ext&&Array.isArray(d.ext.segments)&&d.ext.segments.length&&(s["tg_v.LIseg"]=d.ext.segments.join(","))),(d=b(e.userIdAsEids,function(e){return"liveramp.com"===e.source}))&&(s.x_liverampidl=d.uids[0].id),(d=b(e.userIdAsEids,function(e){return"sharedid.org"===e.source}))&&(s["eid_sharedid.org"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype,"^").concat(d.uids[0].ext.third)),(d=b(e.userIdAsEids,function(e){return"pubcid.org"===e.source}))&&(s["eid_pubcid.org"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype)),(d=b(e.userIdAsEids,function(e){return"criteo.com"===e.source}))&&(s["eid_criteo.com"]="".concat(d.uids[0].id,"^").concat(d.uids[0].atype)));var d=h.getConfig("user.id");if(d)s.ppuid=d;else for(var c=0;e.userIdAsEids&&c<e.userIdAsEids.length;c++)if(e.userIdAsEids[c].uids){var u=b(e.userIdAsEids[c].uids,function(e){return e.ext&&"ppuid"===e.ext.stype});if(u&&u.id){s.ppuid=u.id;break}}t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s.gdpr=Number(t.gdprConsent.gdprApplies)),s.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(s.us_privacy=encodeURIComponent(t.uspConsent));var p=m.assign({},n.visitor,h.getConfig("fpd.user"));Object.keys(p).forEach(function(e){null!=p[e]&&"keywords"!==e&&(s["tg_v.".concat(e)]="object"!==f(p[e])||Array.isArray(p[e])?p[e].toString():JSON.stringify(p[e]))});var l=m.assign({},n.inventory,h.getConfig("fpd.context"));Object.keys(l).forEach(function(e){null!=l[e]&&"keywords"!==e&&(s["tg_i.".concat(e)]="object"!==f(l[e])||Array.isArray(l[e])?l[e].toString():JSON.stringify(l[e]))});n=(n.keywords||[]).concat(m.deepAccess(h.getConfig("fpd.user"),"keywords")||[],m.deepAccess(h.getConfig("fpd.context"),"keywords")||[]);s.kw=Array.isArray(n)&&n.length?n.join(","):"";n=m.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof n&&n&&(s["tg_i.pbadslot"]=n.replace(/^\/+/,""));n=m.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof n&&n&&(s["tg_i.dfp_ad_unit_code"]=n.replace(/^\/+/,"")),!0===h.getConfig("coppa")&&(s.coppa=1),e.schain&&A(e.schain)&&(s.rp_schain=v.serializeSupplyChain(e.schain)),s},serializeSupplyChain:function(e){if(!A(e))return"";var t=e.ver,i=e.complete,e=e.nodes;return"".concat(t,",").concat(i,"!").concat(v.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var i=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return i.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var d=e.bidRequest;if(!(s=s.body)||"object"!==f(s))return[];if(s.seatbid){var t=m.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&m.logWarn("Rubicon: Error in video response");var r=[];return s.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var t={requestId:d.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:!1!==_.netRevenue,width:e.w||m.deepAccess(d,"mediaTypes.video.w")||m.deepAccess(d,"params.video.playerWidth"),height:e.h||m.deepAccess(d,"mediaTypes.video.h")||m.deepAccess(d,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var i=m.deepAccess(s,"ext.responsetimemillis.rubicon");d&&i&&(d.serverResponseTimeMs=i),m.deepAccess(e,"ext.prebid.type")===l?(t.mediaType=l,(i=m.deepAccess(e,"ext.prebid.targeting"))&&"object"===f(i)&&(t.adserverTargeting=i),e.ext.prebid.cache&&"object"===f(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):i&&i.hb_uuid&&i.hb_cache_host&&i.hb_cache_path&&(t.videoCacheKey=i.hb_uuid,t.vastUrl="https://".concat(i.hb_cache_host).concat(i.hb_cache_path,"?uuid=").concat(i.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):m.logWarn("Rubicon: video response received non-video media type"),r.push(t)})}),r}t=s.ads;return"object"!==f(d)||Array.isArray(d)||"video"!==w(d)||"object"!==f(t)||(t=t[d.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,i){if("ok"!==t.status)return e;var n,r,o,a=Array.isArray(d)?d[i]:d;return a&&"object"===f(a)?(n={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==_.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(n.mediaType=t.creative_type),t.creative_type===l?(n.width=a.params.video.playerWidth,n.height=a.params.video.playerHeight,n.vastUrl=t.creative_depot_url,n.impression_id=t.impression_id,n.videoCacheKey=t.impression_id):(n.ad=(r=t.script,o=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(r,"<\/script>\n</div>\n</body>\n</html>")),r=g(c[t.size_id].split("x").map(function(e){return Number(e)}),2),n.width=r[0],n.height=r[1]),n.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(n)):m.logError("Rubicon: bidRequest undefined at index position:".concat(i),d,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,i,n){if(!d&&e.iframeEnabled){e="";return i&&"string"==typeof i.consentString&&("boolean"==typeof i.gdprApplies?e+="?gdpr=".concat(Number(i.gdprApplies),"&gdpr_consent=").concat(i.consentString):e+="?gdpr_consent=".concat(i.consentString)),n&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(n))),d=!0,{type:"iframe",url:"https://".concat(_.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return m.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function y(e,t){var i=h.getConfig("pageUrl"),i=e.params.referrer||i||t.refererInfo.referer;return e.params.secure?i.replace(/^http:/i,"https:"):i}function x(e,t){var i=e.params;if("video"===t){var n=[];return i.video&&i.video.playerWidth&&i.video.playerHeight?n=[i.video.playerWidth,i.video.playerHeight]:Array.isArray(m.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(n=e.sizes[0]),n}var r,n=[];return Array.isArray(i.sizes)?n=i.sizes:void 0!==m.deepAccess(e,"mediaTypes.banner.sizes")?n=a(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=a(e.sizes):m.logWarn("Rubicon: no sizes are setup or found"),r=[15,2,9],n.sort(function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return-1<i||-1<n?-1===i?1:-1===n?-1:i-n:e-t})}function a(e){return m.parseSizesInput(e).reduce(function(e,t){t=parseInt(c[t],10);return t&&e.push(t),e},[])}function w(e,t){var i=1<arguments.length&&void 0!==t&&t;if(t=e,"object"===f(m.deepAccess(t,"params.video"))&&void 0!==m.deepAccess(t,"mediaTypes.".concat(l)))if(-1!==["outstream","instream"].indexOf(m.deepAccess(e,"mediaTypes.".concat(l,".context")))){if(!(x(e,"video").length<2))return i&&m.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video";i&&m.logError("Rubicon: could not determine the playerSize of the video")}else i&&m.logError("Rubicon: mediaTypes.video.context must be outstream or instream");else{if(0!==x(e,"banner").length)return i&&m.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner";i&&m.logError("Rubicon: could not determine the sizes for banner request")}}function A(e){var t=!1,i=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&i.every(function(e){return t.hasOwnProperty(e)})},!0))||m.logError("Rubicon: required schain params missing")),t}function s(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var d=!1;t.exports=e("../shim.js").wrap({spec:v,unitIDKey:"zoneId",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],7:[function(e,t,i){"use strict";var a="https://bids.adspsp.com/openrtb2/auction",s="https://bids.adspsp.com/cookie_sync",d=e("../ajax.js"),c=e("../utils.js"),n=e("../config.js"),u={159:function(e){return{appnexus:{placementId:parseInt(e.bidder_unit_id,10),reserve:e.min_cpm}}},160:function(e){n.libSettings();return{rubicon:{accountId:parseInt(e.account,10),siteId:parseInt(e.site,10),zoneId:parseInt(e.bidder_unit_id,10),inventory:e.inventory||{},visitor:e.visitor||{}}}}};function p(e){e=e.split("x");return{w:parseInt(e[0]),h:parseInt(e[1])}}function l(e,t,i){return e!==i[t-1]}function g(e,t){return{method:"POST",url:e,withCredentials:!0,parseResponseJson:!0,data:JSON.stringify(t),contentType:"text/plain"}}var f=[];t.exports=function(e,t,i,n){f.push(e),this.execute=function(i){var r,o,e;i.executedS2S||(i.executedS2S=!0,r={bidders:[],gdpr:0|n.gdprApplies,gdpr_consent:n.consentString,limit:2},o={id:c.genUUID(),test:c.qs("adb_s2s_test")?1:0,imp:[],Site:{Publisher:{ID:""}},Source:{TID:i.id}},c.each(f,function(e){i.eachBidRequest(e,function(e,t){var i,n,i=(n=u[(i=t).bidder_id])?n(i):(c.err("S2S no template",i.bidder_id),!1);i&&(o.imp.push({id:t.id,ext:i,banner:{format:t.all_sizes.map(p)}}),r.bidders=r.bidders.concat(Object.keys(i)))})}),c.log("S2S request",o),e=g(a,o),d(e,c.wrapAsync(function(e,t){t=t&&t.seatbid||[];c.each(t,function(e){c.each(e.bid,function(e){var t=i.getBidRequest(e.impid);e.price?t.unit.addBid(t,{creative:e.adm,cpm:e.price,width:e.w,height:e.h,extras:{creativeId:e.crid}}):t.unit.addEmptyBid(t)})}),c.each(f,function(e){i.markBidderEmpty(e)}),e&&c.err("S2S auction error",e)})),r.bidders=r.bidders.sort().filter(l),e=g(s,r),d(e,c.wrapAsync(function(e,t){return e?c.err("S2S sync error",e):void(t&&t.bidder_status&&t.bidder_status.length&&c.each(t.bidder_status,function(e){c.log("S2S register sync",e.bidder,e.usersync.url),c.uspf(e.bidder,e.usersync.url)}))})))}}},{"../ajax.js":10,"../config.js":13,"../utils.js":31}],8:[function(e,t,i){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function a(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){var t,i;t=n,e=r[i=e],i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d=e("../shim.js").polyfills,c=d.BANNER,u=d.VIDEO,p=(d.registerBidder,d.utils),l=d.config,g=!0,f=null,u={gvlid:28,code:"triplelift",supportedMediaTypes:[c,u],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var i="https://tlx.3lift.com/header/auction?",n=function(e){var t={},i=e[0].schain,n=function(){var e={},t=p.assign({},l.getConfig("fpd.context")),i=p.assign({},l.getConfig("fpd.user"));return h(e,t),h(e,i),e}();t.imp=e.map(function(e,t){t={id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var i;"function"==typeof e.getFloor&&("object"!==r(i=e.getFloor({currency:"USD",mediaType:"banner",size:_(e.sizes)}))||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor)))}return null!==t?t:e.params.floor}(e)};return m(e)?t.video=function(e){e=a(a({},e.params.video),e.mediaTypes.video);e.w||(e.w=e.playerSize[0][0]);e.h||(e.h=e.playerSize[0][1]);"instream"===e.context&&(e.placement=1);return delete e.playerSize,e}(e):e.mediaTypes.banner&&(t.banner={format:_(e.sizes)}),t});e=[].concat(s(function(e){return b(e,"tdid","adserver.org","TDID")}(e)),s(function(e){return b(e,"idl_env","liveramp.com","idl")}(e)),s(function(e){return b(e,"criteoId","criteo.com","criteoId")}(e)));0<e.length&&(t.user={ext:{eids:e}});n=function(e,t){var i={};p.isEmpty(e)||(i.schain=a({},e));p.isEmpty(t)||(i.fpd=a({},t));return i}(i,n);p.isEmpty(n)||(t.ext=n);return t}(e);return i=p.tryAppendQueryString(i,"lib","prebid"),i=p.tryAppendQueryString(i,"v","4.18.0-pre"),t&&t.refererInfo&&(e=t.refererInfo.referer,i=p.tryAppendQueryString(i,"referrer",e)),t&&t.timeout&&(i=p.tryAppendQueryString(i,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(g=t.gdprConsent.gdprApplies,i=p.tryAppendQueryString(i,"gdpr",g.toString())),void 0!==t.gdprConsent.consentString&&(f=t.gdprConsent.consentString,i=p.tryAppendQueryString(i,"cmp_cs",f))),t&&t.uspConsent&&(i=p.tryAppendQueryString(i,"us_privacy",t.uspConsent)),!0===l.getConfig("coppa")&&(i=p.tryAppendQueryString(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),p.logMessage("tlCall request built: "+i),{method:"POST",url:i,data:n,bidderRequest:t}},interpretResponse:function(e,t){var i=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var i={},n=t.width||1,r=t.height||1,o=t.deal_id||"",a=t.crid||"",e=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(i={requestId:e.bidId,cpm:t.cpm,width:n,height:r,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},m(e)&&(i.vastXml=t.ad,i.mediaType="video"),t.advertiser_name&&(i.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(i.meta.advertiserDomains=t.adomain));return i}(i,e)})},getUserSyncs:function(e,t,i,n){var r=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(r){e="https://eb2.3lift.com/sync?";return"image"===r&&(e=p.tryAppendQueryString(e,"px",1),e=p.tryAppendQueryString(e,"src","prebid")),null!==f&&(e=p.tryAppendQueryString(e,"gdpr",g),e=p.tryAppendQueryString(e,"cmp_cs",f)),n&&(e=p.tryAppendQueryString(e,"us_privacy",n)),[{type:r,url:e}]}}};function m(e){return e.mediaTypes.video&&(e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase())}function h(t,i){p.isEmpty(i)||Object.keys(i).forEach(function(e){null!=i[e]&&(t[e]=i[e])})}function b(e,t,i,n){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((r=i,o=n,function(e){return{source:r,uids:[{id:e,ext:{rtiPartner:o}}]}}));var r,o,a}function _(e){return e.filter(v).map(function(e){return{w:e[0],h:e[1]}})}function v(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:u,unitIDKey:"inventoryCode",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":29}],9:[function(e,t,i){t.exports=e(8)},{"../shim.js":29}],10:[function(e,t,i){var o=e("./utils.js");t.exports=o.wrapAsync(function(i,n){var r,e=!1,t=i.method||(i.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e){if(i.rawProcessor)try{i.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(i.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");n(null,t,r)}catch(e){n({err:e,type:"parse"},"",r)}else n(null,r.responseText,r)}else n(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=o.wrapAsync(function(){if(i.rawProcessor)try{i.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(i.parseResponseJson)try{var e=JSON.parse(r.responseText||"null");n(null,e,r)}catch(e){n({err:e,type:"parse"},"",r)}else n(null,r.responseText,r)}),r.onerror=o.wrapAsync(function(e){n({err:e,type:"error"},"",r)}),r.ontimeout=o.wrapAsync(function(e){n({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,i.url),0!==i.max_ms&&(r.timeout=i.max_ms||3e3,o.logl("at","Ajax >",i.url,r.timeout)),e||(i.withCredentials&&(r.withCredentials=!0),o.each(i.headers,function(e,t){r.setRequestHeader(t,e)}),i.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",i.contentType||"text/plain")),r.send("POST"===t&&i.data)})},{"./utils.js":31}],11:[function(e,t,s){function n(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var p=e("./utils.js"),d=e("./config.js"),l={USD:1,EUR:2},g={banner:1,native:2,video:3},r=n(),o="aX0";s.id=[2,o,r].join(",");var c="";d.afterConsent(function(e,t,i){try{c=(window.__tcfapi?"2":window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+i,e&&(c+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(c+=".u"+(t.version||0)+(t.uspString||""))}catch(e){p.err("ClogErr",e)}e&&e.gdprApplies||(o=(o=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+n(),p.cw("_adb",o,365),s.id=[2,o,r].join(","))});function a(e,t,i,n,r){u[e]||(u[e]=[]),u[e].push(r),f[e]=n,m[e]||(m[e]=setTimeout(function(){h(e,t)},i))}var u={},f={},m={},h=function(e,t){var i,n;clearTimeout(m[e]),m[e]=!1,u[e]&&u[e].length&&(i=f[e],n=3===e?"1//"+u[e].length+i:"",n+=u[e].join(i),u[e]=[],v(e,t,n))};s.flushNow=function(){for(var e in u)h(e)};function b(e,t){return y(e)+"`"+y(t)}function _(e){var t=[];return p.each(e,function(e){e=e.split("x");2==e.length&&t.push(b(e[0],e[1]))}),t.join(".")}var v=function(e,t,i){var n=s.id,r=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),o=p.vp(),a="https://adspsp.com/pt/"+d.getId()+"/"+e+"/"+t+"/?a="+n+"&aa="+c+"&b="+i+"&e="+r+"&c="+encodeURIComponent(p.url().href)+"&d="+encodeURIComponent(p.url().referrer)+"&f="+p.pgts().join(".")+"&g="+p.perfts()+"&u=a7b6d499:kkys9yw8:1mr&v="+y(o.w)+"."+y(o.h)+"."+y(o.y)+"."+y(document.body.clientHeight),a=d.deca(a);for(p.each(x,function(e,t){p.isarr(e)||(e=[e]),p.each(e,function(e){a+="&"+t+"="+encodeURIComponent(e)})});w.length;)delete x[w.pop()];p.each(A,function(e,t){a+="&"+t+"="+encodeURIComponent(e)}),A={},p.pixel(a,!0)},y=function(e){return(parseInt(e,10)||0).toString(36)},x={};s.meta=p.thread(function(e,t){x[e]=t});var w=[];s.metaqx=p.thread(function(e,t){-1==w.indexOf(e)&&w.push(e),x[e]?p.isarr(x[e])||(x[e]=[x[e]]):x[e]=[],x[e].push(t)});var A={};s.ctr=p.thread(function(e,t){void 0===t&&(t=1),t&&(A[e]=(A[e]||0)+t)}),s.auctionConfigured=p.thread(function(e){var n=[];e.eachUnit(function(e){var i=[],t=_(e.all_sizes);e.eachBidReqConf(function(e){var t,t=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),e=_(e.all_sizes);i.push(t+"^"+e)}),n.push(e.id+"^"+t+":"+i.join(","))});var t=e.instancectr+"//"+n.length+"-"+n.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),v(1,1,t)});function S(e,t){var i=e._origin?t.id(e._origin.config.unit.unique_id):"";i?(d=(p.dts()-e.ts)/1e3,c=0|Math.max(0,e.extras.ttl-d),i+="@"+p.b62(c)):i=p.b62(0|e.ms);var n,r,o,a,s,d,c,u=[i];return(e._bid_cpm||e.extras.dealid)&&(n=t.id(e.width+"x"+e.height),r=p.b62(e.extras.ttl),o=l[e.extras.cur]||(e.extras.cur?t.id(e.extras.cur):""),a=e.extras.nr?1:0,s=g[e.extras.mediaType]||0,d=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",c=e.extras.dealid?t.id(e.extras.dealid):"",i=e.cpm,u=u.concat([n,r,o,a,s,d,c,i]),e._bid_cpm!=e.cpm&&(u.push(e._bid_cpm),u.push(e._min_cpm),e.blocked&&u.push(t.id(e.blocked)))),u.join(",")}function I(){this.reset()}I.prototype.reset=function(){this.ids={},this.data=[],this.length=0},I.prototype.id=function(e){var t;return e=String(e),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=p.b62(this.data.push(t)-1)),this.ids[e]},s.auctionCompleted=p.thread(function(t){var a=new I,i=[],n=0;t.eachUnit(function(r){var e=[a.id(t.instancectr),a.id(t.id),a.id(r.id),a.id(r.unique_id)].join(","),o=[];r.eachBidReqConf(!1,function(e){var n=a.id(e.bidder_id)+","+a.id(e.bidder_unit_id);e.responses.length?p.each(e.responses,function(e){var t=r.getWinner()===e?1:"",i=n,e=S(e,a);e&&(i+=","+t+","+e),o.push(i)}):o.push(n)}),encoded_unit=e+":"+o.join(":"),n+=encoded_unit.length,i.push(encoded_unit),3e3<n+a.length&&(v(11,2,i.join("&b=")+"&bi="+a.data.join(",")),a.reset(),i=[],n=0)}),n&&v(11,2,i.join("&b=")+"&bi="+a.data.join(","))}),s.bidRendered=p.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var i=JSON.stringify(e.extras);"{}"!=i&&t.push(encodeURIComponent(i));t="1:"+t.join(",");d.libSettings().record_bidids&&(t+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),a(12,1,100,"&b=",t)}),s.enhRendered=p.thread(function(e,t,i){i=[e,t,y(i.advertiserId),y(i.campaignId),y(i.creativeId),y(i.versionId)];a(12,1,100,"&b=","3:"+i.join(","))}),s.gptRendered=p.thread(function(e,t,i){a(12,1,100,"&b=","2:"+[e.instancectr,t.id,y(i.advertiserId),y(i.campaignId),y(i.creativeId),i.isEmpty||"",y(i.lineItemId),i.size?b(i.size[0],i.size[1]):"",y(i.sourceAgnosticCreativeId),y(i.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=p.thread(function(e,t,i){a(15,1,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=p.thread(function(e){a(16,1,100,"&b=","1:"+JSON.stringify(e))});var z,C,j=new I,R={},k=function(){var e,i,n;clearTimeout(z),z=!1,C?z=setTimeout(k,100):(e=R,R={},C=j,j=new I,i=[],n=0,p.each(e,function(e,t){e=t+":"+e.join(":");n+=e.length,i.push(e),3e3<n+C.length&&(v(13,2,i.join("&b=")+"&bi="+C.data.join(",")),i=[],n=0)}),n&&v(13,2,i.join("&b=")+"&bi="+C.data.join(",")),C=!1)};s.lateBid=p.thread(function(e){var t=[j.id(e.config.unit.auction.instancectr),j.id(e.config.unit.auction.id),j.id(e.config.unit.id),j.id(e.config.unit.unique_id)].join(","),e=[j.id(e.config.bidder_id),j.id(e.config.bidder_unit_id),"",S(e,j)].join(",");R[t]||(R[t]=[]),R[t].push(e),z=z||setTimeout(k,500)}),p.onerr(function(){try{var t="";p.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+p.perfts()+":"+t,a(3,1,1e3,"&e=",t)}catch(e){p.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=p.thread(function(e){a(17,1,500,"&b=",e)}),p.onrec(s.rec)},{"./config.js":13,"./utils.js":31}],12:[function(e,t,i){var m=e("./utils"),h=(e("./unit"),e("./analytics")),b=e("./modules"),_=e("./config"),v=0;t.exports=function(){var n,r;this.instancectr=++v,this.id=m.genID("A"),this.uuid=m.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,_.afterConsent(function(e,t){n=e,r=t}),this.ajax_ms=_.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var s,o=this,a={},d=[],c=[],u=[],p=!1,l=[],g=!1;this.addUnit=function(e){return c.push(e),u.push(e.alias),e.auction=o,e.eachBidder(function(e,t){!t.uspSupport&&r&&"Y"===r.uspString[2]||a[e]||(a[e]=t,.5<Math.random()?d.push(e):d.unshift(e))}),o.max_ms=o.max_ms?Math.min(o.max_ms,e.max_ms):e.max_ms,(!o.ajax_ms||o.ajax_ms<o.max_ms)&&(o.ajax_ms=o.max_ms+200),o},this.ctUnits=function(){return c.length},this.hasUnit=function(){return 0<c.length},this.eachUnit=function(e){m.each(c,e)},this.findUnit=function(e){for(var t=0;t<c.length;++t)if(e(c[t]))return c[t];return!1},this.eachBidRequest=function(e,i){"function"==typeof e&&(i=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){i(t,e)})})},this.getUnitByBidReqId=function(t){var i=!1;return o.eachUnit(function(e){e.getBidReqConf(t)&&(i=e)}),i},this.getBidRequest=function(t){var i=!1;return o.eachUnit(function(e){i=i||e.getBidReqConf(t)}),i},this.markBidEmpty=function(e){var t=o.getUnitByBidReqId(e);t?t.addEmptyBid(e):m.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){o.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return p},this.lock=function(e){-1==l.indexOf(e)&&(m.log("Auction ",o.id," locked: ",e),l.push(e))},this.unlock=m.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),m.log("Auction ",o.id," unlocked: ",e,l),!l.length&&g&&g()):m.log("Auction ",o.id," lock not found: ",e)}),this.execute=function(e){o.ts=m.dts(),o.jsts=(new Date).getTime();var t=_.libSettings().fbo;"function"==typeof t&&(d=t(a)),s="started",b.trigger("auction.before_bids",o),m.log("Auction",o.id,"starting with",c.length,"units:",u,"/ bidders:",d,"/ timeout:",o.max_ms),s="inProgress",h.auctionConfigured(o),b.trigger("auction.start",o);var i=m.wrapAsync(function(){p||(p=!0,b.trigger("auction.bidding_done",o),o.eachUnit(function(e){e.halt()}),s="completed",o.jstsend=(new Date).getTime(),h.auctionCompleted(o),b.trigger("auction.complete",o),e(o))}),n=m.wrapAsync(function(){return l.length?(m.log("Auction ",o.id,"waiting on locks",l),void(g=i)):void i()}),r=0;o.eachUnit(function(e){e.onReady(m.wrapAsync(function(){p||++r>=c.length&&(m.log("Auction ",o.id," received bids for ",r," / ",c.length," units. Duration: ",m.dts()-o.ts,"ms"),n())}))}),m.each(d,function(e){var t=a[e];m.thread(function(){t.execute(o)})()}),setTimeout(function(){p||(m.log("Auction ",o.id," timing out with ",r," / ",c.length," units completed. Duration: ",m.dts()-o.ts,"ms"),n())},o.max_ms)};var t=[],f={};this.getBdrReqId=function(e){return t[e]||(t[e]=m.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var i,t;return f[e]||(a[e],i=[],this.eachBidRequest(e,function(e,t){i.push(t.toPrebid())}),t={referer:m.url().href,stack:[m.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)},f[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:i,gdprConsent:n,uspConsent:(r||{}).uspString,timeout:this.max_ms,refererInfo:t}),f[e]},this.toPrebidBidderReqs=function(){var i=[];return m.each(a,function(e,t){i.push(this.toPrebidBidderReq(t))}.bind(this)),m.log("Prebid bidder reqs built",i),i},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),i=[],n=[],r=[],o=[],a=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit();i.push(t),n.push(t.code);e=e.toPrebidResults();r=r.concat(e.noBids),o=o.concat(e.bidsReceived),a=a.concat(e.winningBids)}.bind(this)),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:s,adUnits:i,adUnitCodes:n,labels:void 0,bidderRequests:e,noBids:r,bidsReceived:o,winningBids:a,timeout:this.max_ms}}}},{"./analytics":11,"./config":13,"./modules":16,"./unit":30,"./utils":31}],13:[function(d,e,t){function c(e,t,i){var n=t.mapping_rules;if(n){var r,o=e.get("gpt_slot"),a=o.getAdUnitPath(),s=e.get("gpt_sizes"),d=e.get("dom_id"),c=e.get("dom_ad_class");for(r in n){if(!n.hasOwnProperty(r))return;var u=n[r],p=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==r&&u<p)return;if("vp.min_width"==r&&p<u)return;if("lib"==r.substr(0,3)){p=i[r.substr(4)];if(("function"==typeof p&&p(o,a,s,d))!=u)return}if("gpt.adunit"==r&&u!=a)return;if("gpt.adunit_regex"==r&&!new RegExp(u,"i").test(a))return;if("gpt.domid"==r&&u!=d)return;if("gpt.domid_regex"==r&&!new RegExp(u,"i").test(d))return;if("gpt.has_size"==r&&!s.match(u))return;if("gpt.no_size"==r&&s.match(u))return;if("adb.ad_class"==r&&u!=c)return;if("adb.ad_class_regex"==r&&!new RegExp(u,"i").test(c))return}return l.log("Unit mapped: ",d,"->",t.alias),1}}function u(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var l=d("./utils"),p=(d("./ajax"),{c:2418030,s:{track_imps:!0,bid_strategy:".05:.1-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50",usp:function(){return{image:!0,iframe:!1,delay:3e3}},initfn:function(){l.load("https://js-sec.indexww.com/ht/p/180447-192872210293780.js"),l.load("https://js-sec.casalemedia.com/um/googleESP.js"),l.load("https://confiant-integrations.global.ssl.fastly.net/cmoHx-7NMqx3kvsCb7fFcqWf2C8/gpt_and_prebid/config.js")},cmp:function(e,t){var i=l.wrapAsync(function(){return e.pub.gdprBlockBids?t("pubblock"):t("iab")});e.pub?i():(l.log("CMP check waiting for AdPlumber"),AdBridg.cmd.unshift({events:{"pub.config":i}}))},cmp_check_interval:100,cmp_check_max:20,pmmutatefn:function(e,t){return l.log("Confiant Safe-frame render",e),t.a=e.config.id,t.b=e.config.bidder_name,t.c=e.cpm,t.w=e.width,t.h=e.height,t.cfd="clarium.global.ssl.fastly.net",t.cfid="cmoHx-7NMqx3kvsCb7fFcqWf2C8",t},pubrenderfn:function(e,t,i,n,r,o){l.log("Confiant friendly-frame render",o);return function(o,a,e,s,d){function c(e){return(n(e)||"")[r]("/","_")[r]("+","-")}var t=a.bidder,i=a.size,u=o.parentWindow||o.defaultView,p=u.JSON,n=u.btoa,l=u.encodeURIComponent;if(!p||!n)return!1;var g="script",f="src",r="replace",m="error",h="stringify",b="write",_="https://"+e+"/?wrapper="+l(s)+"&tpid=",v={k:{hb_bidder:[t],hb_size:[i]}};return function(){var e,t,i=c(s+"/"+v.k.hb_bidder[0]+":"+v.k.hb_size[0]),n={wh:i,wd:p.parse(p[h](v)),wr:0};r=i,e=c(p[h](n)),t=function(){o[b](a.ad)},r=_+l(r)+"&d="+e,e="err__"+ +new Date,u[e]=t,r="<"+g+" on"+m+'="void('+e+'())" '+f+'="'+r+'" type="text/java'+g+'" ></'+g+">",o[b](r);var r={prebid:{adId:a.adId,cpm:a.cpm}},r={d:n,t:a.ad,cb:d,id:r};u[s]={},u[s][i]=r}(),o.close(),!0}(e,{size:o.width+"x"+o.height,bidder:o.config.bidder_name,ad:o.creative||o.creative_url,cpm:o.cpm,adId:o.config.id},"clarium.global.ssl.fastly.net","cmoHx-7NMqx3kvsCb7fFcqWf2C8",function(e,t,i,n,r,o){l.err("Confiant block",e,t,i,n,r,o)})},gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,new_tl_test:function(e){return!l.qs("adb_tl_new_only")&&e},ajax_ms:1100,before_gpt:function(){l.qs("no_sandbox")||(l.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}));var e="XX";p.s.pub&&p.s.pub.cc&&"AE,AR,AT,AU,BD,BE,BG,CA,CH,CO,CY,CZ,DE,DK,EE,ES,FI,FR,GB,GH,GR,HR,HU,ID,IE,IN,IS,IT,KE,LI,LT,LU,LV,MT,MX,MY,NG,NL,NO,NZ,PH,PK,PL,PT,RO,SA,SE,SG,SI,SK,US,ZA".match(p.s.pub.cc)&&(e=p.s.pub.cc),l.log("Setting KVP hlcc",p.s.pub&&p.s.pub.cc,"=",e),googletag.pubads().setTargeting("hlcc",e)},dynamic_configuration:function(e,t,i){var n=t.pub.cc;if(t.pub.sponsorship&&"US"===n)return AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),l.err("HLSponsorshipPage"),l.log("Healthline page has been reserved for a sponsorship; all bidding is disabled.")),!1;-1<[16,17,18].indexOf(e.id)&&l.vp().w<=989&&(e.other_sizes="");t=t.pub&&t.pub.k1;t.match(/cancer/)||t.match(/^(chemotherapy|gastroenteritis|heartattack|heartburn|heartfailure|heartprocedures|heartvalvedisorders|hivaids|ms|backpain|psoriasis|eczema)$/)||(e.max_ms=1500);t=parseInt(l.qs("adb_timeout"),10)||0;return 0<t&&(AdBridg.global("timeoutOverrideMsg")||(l.log("HL override timeout via querystring: ",t),AdBridg.global("timeoutOverrideMsg",1)),e.max_ms=t),e},alter_adb_pixel:function(e){try{p.s.pub&&p.s.pub.cc&&(e+="&hlcc="+p.s.pub.cc)}catch(e){}return e},gpt_refresh_options:function(e){var t=Object.assign({},e||{},{changeCorrelator:!1});return l.log("GPT correlator enforcement",e,t),t},post_auc_ufilter:function(e,t){var i,n=e.getWinner();n&&n.cpm&&((i=(i=n.cpm)<5?"":i<10?"b5":"b10")&&e.setImpData("adx",i),18==n.config.bidder_id&&e.setImpData("tl","tl"+(n.config.bidder_unit_id.match("_HDX")?"2":"1")))},nodbkeys:!0},u:{1:[1,"Healthline Desktop_300x250_1","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"604642",{siteId:"127964",position:"atf"},0],[4,"540307314",0,0],[5,"11002902",0,0],[10,"193270",{size:"300x250"},0],[18,"healthline_Desktop_DMR1_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817317",{size:"300x250"},0],[115,"healthline_med_rec_1_300x250_hb_adbridg",{pos:"healthline_med_rec_1_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"482160476",0,0],[159,"14857641",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],2:[2,"Healthline Desktop_300x250_2","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"604644",{siteId:"127964"},0],[4,"540307315",0,0],[5,"11002903",0,0],[10,"193271",{size:"300x250"},0],[18,"healthline_Desktop_DMR2_MREC_AB",0,0],[114,"4817332",{size:"300x250"},0],[115,"healthline_med_rec_2_300x250_hb_adbridg",{pos:"healthline_med_rec_2_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"265177797",0,0],[159,"14857648",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],3:[3,"Healthline Desktop_300x250_3","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"604646",{siteId:"127964"},0],[4,"540307316",0,0],[5,"11002904",0,0],[10,"193272",{size:"300x250"},0],[18,"healthline_Desktop_DMR3_MREC_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817334",{size:"300x250"},0],[115,"healthline_med_rec_3_300x250_hb_adbridg",{pos:"healthline_med_rec_3_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"157131625",0,0],[159,"14857649",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],4:[4,"Healthline Desktop_300x250_4","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"604648",{siteId:"127964"},0],[4,"540307317",0,0],[5,"11002905",0,0],[10,"193273",{size:"300x250"},0],[18,"healthline_Desktop_DMR4_MREC_AB",0,0],[114,"4817333",{size:"300x250"},0],[115,"healthline_med_rec_4_300x250_hb_adbridg",{pos:"healthline_med_rec_4_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"171862636",0,0],[159,"14857650",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],5:[5,"Healthline Desktop_300x250_5","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"604650",{siteId:"127964"},0],[4,"540307318",0,0],[5,"11002906",0,0],[10,"193274",{size:"300x250"},0],[18,"healthline_Desktop_DMR5_MREC_AB",0,0],[114,"4817329",{size:"300x250"},0],[115,"healthline_med_rec_5_300x250_hb_adbridg",{pos:"healthline_med_rec_5_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"662144784",0,0],[159,"14857651",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],6:[6,"Healthline Desktop_300x250_6","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"604652",{siteId:"127964"},0],[4,"540307320",0,0],[5,"11002907",0,0],[10,"193275",{size:"300x250"},0],[18,"healthline_Desktop_DMR6_MREC_AB",0,0],[114,"4817331",{size:"300x250"},0],[115,"healthline_med_rec_6_300x250_hb_adbridg",{pos:"healthline_med_rec_6_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"753865295",0,0],[159,"14857652",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],7:[7,"Healthline Desktop_300x250_7","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"604654",{siteId:"127964"},0],[4,"540307321",0,0],[5,"11002908",0,0],[10,"193276",{size:"300x250"},0],[18,"healthline_Desktop_DMR7_MREC_AB",0,0],[114,"4817330",{size:"300x250"},0],[115,"healthline_med_rec_7_300x250_hb_adbridg",{pos:"healthline_med_rec_7_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"661335883",0,0],[159,"14857653",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],8:[8,"Healthline Desktop_300x250_8","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"604656",{siteId:"127964"},0],[4,"540307322",0,0],[5,"11002909",0,0],[10,"193277",{size:"300x250"},0],[18,"healthline_Desktop_DMR8_MREC_AB",0,0],[114,"4817335",{size:"300x250"},0],[115,"healthline_med_rec_8_300x250_hb_adbridg",{pos:"healthline_med_rec_8_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"537318873",0,0],[159,"14857654",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],9:[9,"Healthline Desktop_300x250_9","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"604658",{siteId:"127964"},0],[4,"540307323",0,0],[5,"11002910",0,0],[10,"193278",{size:"300x250"},0],[18,"healthline_Desktop_DMR9_MREC_AB",0,0],[114,"4817336",{size:"300x250"},0],[115,"healthline_med_rec_9_300x250_hb_adbridg",{pos:"healthline_med_rec_9_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"787285489",0,0],[159,"14857656",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],10:[10,"Healthline Desktop_300x250_10","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"604660",{siteId:"127964"},0],[4,"540307332",0,0],[5,"11002911",0,0],[10,"193279",{size:"300x250"},0],[18,"healthline_Desktop_DMR10_MREC_AB",0,0],[114,"4817321",{size:"300x250"},0],[115,"healthline_med_rec_10_300x250_hb_adbridg",{pos:"healthline_med_rec_10_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"136586158",0,0],[159,"14857642",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],11:[11,"Healthline Desktop_300x250_11","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR1|MR11)$"},[[2,"604662",{siteId:"127964"},0],[4,"540307346",0,0],[5,"11002912",0,0],[10,"193280",{size:"300x250"},0],[18,"healthline_Desktop_DMR11_MREC_AB",0,0],[114,"4817318",{size:"300x250"},0],[115,"healthline_med_rec_11_300x250_hb_adbridg",{pos:"healthline_med_rec_11_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"168330849",0,0],[159,"14857643",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],12:[12,"Healthline Desktop_300x250_12","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR2|MR12)$"},[[2,"604664",{siteId:"127964"},0],[4,"540307347",0,0],[5,"11002913",0,0],[10,"193281",{size:"300x250"},0],[18,"healthline_Desktop_DMR12_MREC_AB",0,0],[114,"4817320",{size:"300x250"},0],[115,"healthline_med_rec_12_300x250_hb_adbridg",{pos:"healthline_med_rec_12_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"821682258",0,0],[159,"14857644",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],13:[13,"Healthline Desktop_300x250_13","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR3|MR13)$"},[[2,"604666",{siteId:"127964"},0],[4,"540307348",0,0],[5,"11002914",0,0],[10,"193282",{size:"300x250"},0],[18,"healthline_Desktop_DMR13_MREC_AB",0,0],[114,"4817327",{size:"300x250"},0],[115,"healthline_med_rec_13_300x250_hb_adbridg",{pos:"healthline_med_rec_13_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"678963628",0,0],[159,"14857645",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],14:[14,"Healthline Desktop_300x250_14","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR4|MR14)$"},[[2,"604668",{siteId:"127964"},0],[4,"540307349",0,0],[5,"11002915",0,0],[10,"193283",{size:"300x250"},0],[18,"healthline_Desktop_DMR14_MREC_AB",0,0],[114,"4817326",{size:"300x250"},0],[115,"healthline_med_rec_14_300x250_hb_adbridg",{pos:"healthline_med_rec_14_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"537717616",0,0],[159,"14857646",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],15:[15,"Healthline Desktop_300x250_15","300x250",["300x600"],.15,700,0,0,{"gpt.adunit_regex":"D(CMR5|MR15)$"},[[2,"604670",{siteId:"127964"},0],[4,"540307351",0,0],[5,"11002916",0,0],[10,"193284",{size:"300x250"},0],[18,"healthline_Desktop_DMR15_MREC_AB",0,0],[114,"4817328",{size:"300x250"},0],[115,"healthline_med_rec_15_300x250_hb_adbridg",{pos:"healthline_med_rec_15_300x250_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"571841601",0,0],[159,"14857647",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],16:[16,"Healthline Desktop_728x90_1","728x90",["970x250","970x90"],.15,700,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"604630",{siteId:"127964",position:"atf"},0],[4,"540307352",0,0],[5,"11002896",0,0],[10,"193264",{size:"728x90"},0],[18,"healthline_Desktop_DLB1_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817322",{size:"728x90"},0],[115,"healthline_leaderboard_1_728x90_hb_adbridg",{pos:"healthline_leaderboard_1_728x90_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"814147833",0,0],[159,"14857657",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DCMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]],17:[17,"Healthline Desktop_728x90_2","728x90",[],.15,700,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"604632",{siteId:"127964"},0],[4,"540307353",0,0],[5,"11002897",0,0],[10,"193265",{size:"728x90"},0],[18,"healthline_Desktop_DLB2_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817319",{size:"728x90"},0],[115,"healthline_leaderboard_2_728x90_hb_adbridg",{pos:"healthline_leaderboard_2_728x90_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"275526781",0,0],[159,"14857658",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],18:[18,"Healthline Desktop_728x90_3","728x90",[],.15,700,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"604634",{siteId:"127964"},0],[4,"540307354",0,0],[5,"11002898",0,0],[10,"193266",{size:"728x90"},0],[18,"healthline_Desktop_DLB3_728x90_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817316",{size:"728x90"},0],[115,"healthline_leaderboard_3_728x90_hb_adbridg",{pos:"healthline_leaderboard_3_728x90_hb_adbridg",dcn:"8a96943b0174746d718b6f2be1cc005c"},0],[116,"679392274",0,0],[159,"14857659",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],19:[19,"Healthline Mobile_320x50","320x50",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MLB1$","vp.max_width":767},[[2,"604682",{siteId:"127968"},0],[4,"540307355",0,0],[5,"11002922",0,0],[10,"193290",{size:"320x50"},0],[114,"4817339",{size:"320x50"},0],[115,"healthline_mbl_320x50_hb_adbridg",{pos:"healthline_mbl_320x50_hb_adbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"917839699",0,0],[159,"14857669",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],20:[20,"Healthline Mobile_300x250_1","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"604684",{siteId:"127968"},0],[4,"540307376",0,0],[5,"11002923",0,0],[10,"193291",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817338",{size:"300x250"},0],[115,"healthline_mbl_1_300x250hbadbridg",{pos:"healthline_mbl_1_300x250hbadbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"339384118",0,0],[159,"14857664",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],21:[21,"Healthline Mobile_300x250_2","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"604686",{siteId:"127968"},0],[4,"540307377",0,0],[5,"11002924",0,0],[10,"193292",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_2_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817344",{size:"300x250"},0],[115,"healthline_mbl_2_300x250hbadbridg",{pos:"healthline_mbl_2_300x250hbadbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"189578804",0,0],[159,"14857665",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],22:[22,"Healthline Mobile_300x250_3","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"604688",{siteId:"127968"},0],[4,"540307378",0,0],[5,"11002925",0,0],[10,"193293",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_3_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817342",{size:"300x250"},0],[115,"healthline_mbl_3_300x250hbadbridg",{pos:"healthline_mbl_3_300x250hbadbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"416732783",0,0],[159,"14857666",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],23:[23,"Healthline Mobile_300x250_4","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"604690",{siteId:"127968"},0],[4,"540307379",0,0],[5,"11002926",0,0],[10,"193294",{size:"300x250"},0],[114,"4817341",{size:"300x250"},0],[115,"healthline_mbl_4_300x250hbadbridg",{pos:"healthline_mbl_4_300x250hbadbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"579762571",0,0],[159,"14857667",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],24:[24,"Healthline Mobile_300x250_5","300x250",["300x50"],.15,700,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"604692",{siteId:"127968"},0],[4,"540307380",0,0],[5,"11002927",0,0],[10,"193295",{size:"300x250"},0],[114,"4817340",{size:"300x250"},0],[115,"healthline_mbl_5_300x250hbadbridg",{pos:"healthline_mbl_5_300x250hbadbridg",dcn:"8a96943b0174746d718b6f2be5a60060"},0],[116,"823314966",0,0],[159,"14857668",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}}),g={},f={},i={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return l.logl("g","Global read: ",e,i[e]),i[e];i[e]=t,l.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"v4.18.0-pre"},p.s.preconfigure_init&&l.wrapAsync(p.s.preconfigure_init)(p.s),t.getId=function(){return p.c},t.libSettings=function(t){if(t){var e,i;try{i="function"==typeof p.s[t]?(e=Array.prototype.slice.apply(arguments,[1]),p.s[t].apply(null,e)):p.s[t]}catch(e){l.err("ConfigKeyFail",t,e)}return i}return p.s},t.kvp=function(e){var t=p.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},t.proc=function(e){p.s.pub=p.s.pub||{},l.each(e,function(e,t){p.s.pub[t]=e}),l.log("Publisher config update: ",JSON.stringify(p.s.pub)),d("./modules.js").trigger("pub.config",p.s.pub)},t.deca=function(e){if(p.s.alter_adb_pixel)try{e=p.s.alter_adb_pixel(e)}catch(e){l.err("Alter adb fail",e)}return e};t.configureUnit=function(e,t){var i,n=!1,r=[];for(i in p.u)if(p.u.hasOwnProperty(i)){var o=u(0,p.u[i]);if(d("./modules.js").trigger("unit.dynamic",o,p.s,e),p.s.dynamic_configuration)try{var a=p.s.dynamic_configuration(o,p.s,e);if("object"!=typeof a&&!1!==a||(o=a),!o)continue}catch(e){l.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;n=o;break}if(o.rule_order)r[o.rule_order]=o;else if(c(e,o,p.s)){n=o;break}}if(!n&&r.length)for(var s=0;s<r.length;++s)if(r[s]&&c(e,r[s],p.s)){n=r[s];break}n&&(e.configure(n),function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var i=0;i<t.bid_req_confs.length;++i){var n=t.bid_req_confs[i],n={bidder_id:(r=n)[0],bidder_unit_id:r[1],settings:r[2]||{},mutate:r[3]||!1};0;var r=f[String(n.bidder_id)];l.qsab(r,n.bidder_id)&&(e.addBidder(r,g[r]),e.addBidReqConf(r,n,p.s))}}(e,n))},t.units=function(i){l.each(p.u,function(e,t){i(u(0,e))})};var n=p.s.usp;"function"==typeof n&&(n=n()),n&&l.cfusp(n.image,n.iframe,n.delay),t.afterConsent=d("./consent.js")(p);function r(i,n,r){t.afterConsent(function(e){return e&&e.gdprApplies&&!e.consentString?l.log("GDPR skip register",i,e):void(g[i]?l.err("Duplicate bidder alias "+i):(t={bidder_id:(t=r)[0],settings:t[1]||{},mutate:t[2]||!1},g[i]=new n(i,t.bidder_id,t.settings,e,o),g[i].alias=i,g[i].id=t.bidder_id,g[i].settings=t.settings,g[i].mutate=t.mutate||!1,f[String(t.bidder_id)]=i));var t})}var o=d("./modules.js");o.setup(t);var a=d("./adapters/triplelift_direct.js"),s=d("./adapters/s2s.js"),m=d("./adapters/medianet.js"),h=d("./adapters/aol.js"),b=d("./adapters/triplelift.js"),_=d("./adapters/index.js"),v=d("./adapters/appnexusast.js"),n=d("./adapters/openx.js");r("rubicon",d("./adapters/rubicon.js"),[2,{accountId:11314},function(e,t){try{e.params=e.params||{},e.params.inventory={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||""},l.log("Rubicon KVP",e.params.inventory)}catch(e){l.err("HL Rubicon K1 fail",e)}return e}]),r("openx",n,[4,{delDomain:"healthline-d.openx.net"},0]),r("appnexus",v,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:""+googletag.pubads().getTargeting("k1")||t.pub&&t.pub.k1||"",k2:""+googletag.pubads().getTargeting("k2")||t.pub&&t.pub.k2||""},e}]),r("ix",_,[10,0,0]),r("triplelift",b,[18,{check_gdpr:!0},0]),r("onedisplay",h,[114,{test:!0},function(e,t){return-1<["US","CA","AU"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("onemobile",h,[115,0,function(e,t){return-1<["US","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("medianet",m,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("s2s_appnexus",s,[159,{dfp_bidder_name:"appnexus"},0]),r("s2s_rubicon",s,[160,{dfp_bidder_name:"rubicon",account:11314},0]),r("tpl_direct",a,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/index.js":3,"./adapters/medianet.js":4,"./adapters/openx.js":5,"./adapters/rubicon.js":6,"./adapters/s2s.js":7,"./adapters/triplelift.js":8,"./adapters/triplelift_direct.js":9,"./ajax":10,"./consent.js":14,"./modules.js":16,"./utils":31}],14:[function(n,e,t){var r,o=n("./utils.js");e.exports=o.wrapAsync(function(e){return r=e,function(e){A(e)}});function a(e,t){m+=e,t&&(m+=t)}function i(){if(v&&y)for(;w.length;){var e=w.shift();S(e)}}function s(){C||(C=!0,o.log("Consent: removing action configurations."),r.u=[],a("N"))}function d(){googletag&&googletag.cmd&&!j&&(j=!0,o.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),a("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function c(){googletag&&googletag.cmd&&!R&&(R=!0,o.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),a("M"),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var u,p,l,g,f,m="",h={iab:"A",conversant:"B"},b={geoblock:"C",geoblockbids:"D",geocmp:"E"},_="AT,BE,BG,CR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,SP,SE,GB,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,",v=!1,y=!1,x=!1,w=[],A=o.wrapAsync(function(e){"function"==typeof e?(e=o.wrapAsync(e),v&&y?S(e):(w.push(e),x||(x=!0,k(),D()))):o.err("Consent: invalid cb",e)}),S=function(e){e(u,p,m)},I=o.wrapAsync(function(e){o.log("Consent: done gathering GDPR consent",e),u=e,v=!0,a("u"),i()}),z=o.wrapAsync(function(e){o.log("Consent: done gathering USP consent",e),p=e,y=!0,a("h"),i()}),C=!1,j=!1,R=!1,k=function(){var e=r.s.cmp;"function"==typeof e?(a("t"),e(r.s,o.wrapAsync(function(e){E(e)}))):E(e)},E=o.wrapAsync(function(i){return i?"pubblock"===i?(o.log("Consent: gdpr: pubblock"),a("F"),s(),d(),void I({gdprApplies:!0,consentString:""})):"iab"===i||"conversant"===i?(a(h[i]),void B(i)):"geoblock"===i||"geoblockbids"===i||"geocmp"===i?(a(b[i]),void M(function(e){if(-1===_.indexOf(e.slice(0,2)))return o.log("Consent: gdpr: not in EU:",e),a("y"),void I({gdprApplies:!1,consentString:""});if("geocmp"===i){var t=r.s.cmp_for_geo;return o.log("Consent: gdpr: in EU, checking cmp:",t),a("x"),void setTimeout(function(){E(t)},0)}if("geoblock"===i)return a("v"),o.rec("GDPRBlockAll"),void o.log("Consent: gdpr: in EU, disabling ads");a("w"),o.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),s(),d(),I({gdprApplies:!0,consentString:""})})):(a("z"),o.err("Consent: unrecognized cmp value",i),void I()):(a("G"),void I())}),T=0,B=o.wrapAsync(function(){if("function"!=typeof window.__cmp&&"function"!=typeof window.__tcfapi){var e=r.s.cmp_check_interval,t=r.s.cmp_check_max;if(e&&T<t)return 0===T&&(a("p"),o.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),T+=1,void setTimeout(B,e);var i=r.s.cmp_fallback;return i?(o.log("Consent: gdpr: fallback to",i),a("o"),void setTimeout(function(){E(i)},0)):(a("n"),void o.log("Consent: gdpr: CMP object not found, preventing further execution."))}if(window.__tcfapi)return o.log("Consent: gdpr: calling TCFv2"),a("U"),void window.__tcfapi("getTCData",2,o.wrapAsync(function(e,t){var i,n,r;e?(a("s"),i=e.tcString,r=e.gdprApplies,n=e):a("r"),I({consentString:i,vendorData:n,gdprApplies:r})}));o.log("Consent: gdpr: calling CMP"),a("q"),window.__cmp("getVendorConsents",null,o.wrapAsync(function(e){var t,i,n;o.log("Consent: gdpr: CMP result",e),e?(t=e.metadata||e.consentData,i=e.vendorConsents,n=e.gdprApplies,a("s")):a("r"),I({consentString:t,vendorData:i,gdprApplies:n})}))}),D=function(){var e=r.s.ccpa;if("optout"===e)return o.log("Consent: ccpa: opting out all users"),a("l"),void z({version:1,uspString:O()});if(0!==(e||"").indexOf("geoblock,"))return!e&&window.__uspapi&&(e="iab",a("k")),e?"iab"===e?(a("j"),void U()):(o.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),a("i"),void z()):(o.log("Consent: ccpa: no strategy defined, continuing as normal"),a("m"),void z());var t=e.split(",").slice(1);M(function(e){-1!==t.indexOf(e)?(o.log("Consent: ccpa: opting out ",t," users"),a("O"),z({version:1,uspString:O()})):(o.log("Consent: ccpa: region OK",e),a("T"),z({version:1,uspString:"1---"}))})},O=function(){var e=r.s.ccpa_signatory||"N";return"1"+(r.s.ccpa_button||"N")+"Y"+e},P=0,U=o.wrapAsync(function(){var i=r.s.usp_check_interval||500,n=r.s.usp_check_max||30;if(!window.__uspapi)return i&&P<n?(0===P&&(o.log("Consent: usp: __uspapi not found yet - checking every ",i,"ms; max ",n,"intervals"),a("b")),P+=1,void setTimeout(U,i)):(o.log("Consent: usp: __uspapi not found, preventing further execution."),void a("a"));0===P&&a("c"),window.__uspapi("getUSPData",1,o.wrapAsync(function(e,t){return o.log("Consent: usp: result",e,t),t||e&&e.uspString?(e&&e.uspString?(a("g"),"Y"===e.uspString.substr(2,1)&&c()):a("d"),void z(e)):i&&P<n?(0===P&&(o.log("Consent: usp: result empty, re-checking in ",i,"ms"),a("e")),P+=1,void setTimeout(U,i)):(o.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),a("f"),c(),void z({version:1,uspString:O()}))}))}),M=(f=[],function(e){var t,i;"function"==typeof e?(e=o.wrapAsync(e),l||(t=o.cr("adbrgn"))&&(o.log("Consent: region cookie found",t),a("S"),l=t),l?e(l):(f.push(e),g||(o.log("Consent: geo region requested"),i=function(){for(;f.length;)f.shift()(l)},g=!0,n("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},o.wrapAsync(function(e,t){return e?(o.err("geo/region",e),r.s.cmp_allow_geofail?(l="????",o.log("Consent: error getting region, continuing"),a("P"),void i()):(o.log("Consent: region check failed; preventing further action"),void a("Q"))):(l=t,o.log("Consent: region check result",l),o.cw("adbrgn",l),o.log("Consent: cached region",l),a("R"),void i())}))))):o.err("Consent: bad region cb",e)})},{"./ajax.js":10,"./utils.js":31}],15:[function(e,t,i){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var a,s,m=e("../utils.js"),p=e("../unit.js"),c=e("../auction.js"),f=e("../config.js"),h=e("../analytics.js"),b=e("../modules.js");if(!m.qs("adb_off")){if(V=m.vp(),/headless/i.test(navigator.userAgent)||0===V.w||0===V.h)return m.log("headless browser detected; shutting down"),void m.rec("headless");s={enableSingleRequest:ue,disableInitialLoad:ue,addEventListener:(a={add:function(e,t){a[e]=(a[e]||[]).concat(t)},remove:function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(a[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:a.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){s.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){s.targeting[e]=t},refresh:function(e){e.forEach(function(e){var i=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),n=!s.safeFrameConfig||e.getTargeting("unsafe")[0];i.height=e.sizes[0][1],i.width=e.sizes[0][0],i.border="0px",i.hspace="0",i.vspace="0",i.marginWidth="0",i.marginHeight="0",i.style.border="0",i.scrolling="no";var r={slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(i.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0},o=e.getTargeting(f.kvp("adb_adid"))[0];n?i.src="about:blank":(s.safeFrameConfig&&s.safeFrameConfig.sandbox&&(i.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),i.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(i),o?(i.contentDocument.open(),i.contentDocument.write(n?'<script>try { top.AdBridg.render(document, "'+o+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+o+'");<\/script></head><body></body></html>'),a.trigger("slotRenderEnded",r)):"function"==typeof(o=f.libSettings().getHouseAd)?o(e,function(e,t){i.contentDocument.open(),i.contentDocument.write(e),r.isEmpty=!1,a.trigger("slotRenderEnded",m.assign(r,t))}):(m.log(e.getAdUnitPath(),"nothing to render"),r.isEmpty=!0,a.trigger("slotRenderEnded",r))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return s},defineSlot:function(e,t,i){var n={sizes:t,targeting:{},addService:ue,getSlotElementId:function(){return i},getAdUnitPath:function(){return e},setTargeting:function(e,t){n.targeting[e]=t},getTargeting:function(e){return[].concat(n.targeting[e],s.targeting[e]).filter(Boolean)},getTargetingMap:ue};return n},enableServices:ue,display:ue},("function"==typeof f.libSettings().nogpt&&f.libSettings().nogpt()||m.qs("adb_nogpt"))&&(m.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);var r=!1,o=[],d=!1,u=[],n=!1,_=[],l=[],v={},y={},x={},g={},w=!1,A=[],S=[],I={},z=[],C="Workflow |",j=!0,e=f.libSettings().sra_if;(e&&!e()||f.libSettings().no_sra)&&(j=!1);function R(e){var t,i,n=f.libSettings().gpt_clear_kvps,r=[],o=e.getTargetingMap(),a=!1;for(i in o)o.hasOwnProperty(i)&&("adb_"===i.substr(0,4)||n&&0<=n.indexOf(i)?a=!0:r.push([i,o[i]]));if(a)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);O(e)}function k(e,t){var i=f.libSettings().gpt_exclusions;if(i){var n,r=[];for(n in i){var o=i[n];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(n),r.push(n))}r.length&&m.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",r)}}function E(i,o,a){return m.wrapAsync(function(r){oe("ra",function(){var n=[];r.eachUnit(function(t){if(r===d){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=f.libSettings().post_auc_ufilter;if(e){e=e(t,a);if(e)return void m.log("Ignoring",t.alias,t.get("dom_id"),e)}}catch(e){m.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return m.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void m.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var i=t.getWinner();i&&i.config.unit.setImpData("adb_mtype",i.extras.mediaType),function(e){var t=f.libSettings().bid_strategy,i=e.getWinner(),n=e.get("gpt_slot");R(n),b.trigger("gpt.set_targeting",e,n);var r,o=e.get("adb_imp_data");if(o&&(r=n.getTargeting("adb_imp")||[],m.isarr(r)||(r=[r]),m.each(o,function(e){e&&-1===r.indexOf(e)&&r.push(e)}),r.length&&n.setTargeting(f.kvp("adb_imp"),r)),f.libSettings().track_alias&&n.setTargeting(f.kvp("adb_cfg"),e.alias),!i)return n.setTargeting(f.kvp("adb_bdr"),["none"]),k(n,-1),b.trigger("gpt.no_hbc",e,n,function(e){return m.toRange(e,t)},function(e,t){O(e),k(e,t)});AdBridg.gpt!==window.googletag&&(n.setTargeting("unit",e),(f.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===i.config.bidder_name}).length&&n.setTargeting("unsafe",!0));var a=(I[i.id]=i).config.dfp_bidder_name||i.config.bidder_name,s=i.cpm;(o=f.libSettings().cur)&&(o.exclude&&-1<o.exclude.indexOf(i.config.bidder_id)?m.log("Currency conversion skipped: ",i.config.bidder_name):(m.log("Currency conversion: USD = ",s,"; Rate = ",o.rate,"; DFP = ",o.rate*s),s*=o.rate));var d=m.toRange(s,t),c=d.kv;b.trigger("gpt.modify_hbc",e,n,{bid:i,range:d,mod:function(e){return s=e,d=m.toRange(s,t),c=d.kv,d}}),m.qs("adb_force_bidder")?(a="force",c=""):m.qs("adb_force_sf_bidder")&&(a="forcesf",c="");var u=f.libSettings().vs_threshold;if("function"==typeof u)try{var p=u(s);p&&n.setTargeting(f.kvp("adb_vs"),p)}catch(e){m.err("HVfail",e)}n.setTargeting(f.kvp("adb_bdr"),[a]),n.setTargeting(f.kvp("adb_hbc"),[c]),n.setTargeting(f.kvp("adb_adid"),[i.id]),f.libSettings().track_mtype&&i.extras&&i.extras.mediaType&&n.setTargeting(f.kvp("adb_mtype"),[i.extras.mediaType]),m.log("Set GPT targeting for ",n.getAdUnitPath()," / ",n.getSlotElementId(),": ",a,c),k(n,s)}(t),n.push(t.get("gpt_slot"))}catch(e){m.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e,t=S.concat(n);if(S=[],M(t),"function"==typeof i&&i(r),j&&!(t=N("AC",t)).length)return m.err("All units cancelled",r.id);(j||a)&&($(),m.log(C,"GPT Batch: ",t.length),(e=f.libSettings("gpt_refresh_options",o))&&(o=e),AdBridg.gpt.pubads().refresh(t,o),b.trigger("gpt.request_adbridg",r,a))})})}function T(){var e,t;w&&(e=A.length,(A=N("PT",A)).length?(m.isdebug()&&(t=[],m.each(A,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),m.log("Non-bid request with",A.length," units: ",t)),oe("rp",function(){var e,t=A;A=[],t.length&&($(),M(t),m.log(C,"GPT PT Batch: ",t.length),e=f.libSettings("gpt_refresh_options")||{},AdBridg.gpt.pubads().refresh(t,e),b.trigger("gpt.request_passthrough",t))})):e&&m.err("PT units cancelled"))}function B(e){m.log("Locked slot: ",e.getSlotElementId()),q[e.getSlotElementId()]=!0}function D(e,n,r){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(m.each(o,function(e,t){if("string"==typeof e[t]){var i=e[t].split("x");return 0!==i[0]&&0!==i[1]||m.err("0 size in",n,r,e[t]),void(e[t].match(/^\d+x\d+$/)||a.push(t))}0!==e[0]&&0!==e[1]||m.err("0 size in",n,r,e.join("x")),o[t]=e.join("x")}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}var O=function(e){var t=f.libSettings().gpt_exclusions;if(t){for(var i=!1,n=e.getCategoryExclusions(),r=n.length-1;0<=r;--r){var o=n[r];t.hasOwnProperty(o)&&(n.splice(r,1),i=!0)}if(i)for(e.clearCategoryExclusions(),r=0;r<n.length;++r)e.setCategoryExclusion(n[r])}},P={},U={},M=function(e){m.each(e,function(e){var t=e.getSlotElementId(),i=(U[t]||0)+1;U[t]=i;var n=f.libSettings().track_imps;if(n)try{"string"!=typeof n&&(n="1:1-11");for(var r=Math.floor(m.toRange(i,n).kv.split("-")[0]),o=e.getTargeting("adb_imp"),a=o.length-1;0<=a;--a)String(o[a]).match(/^\d+$/)&&o.splice(a,1);o.push(r),e.setTargeting(f.kvp("adb_imp"),o)}catch(e){m.err("Counter failed: ",e)}})},q={},N=m.wrapAsync(function(r,e,o){var a=f.libSettings().max_imp_ctr;"function"==typeof a&&(a=a());var s=[];return m.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var i=t.getSlotElementId();if(!x[i]){if(L("F"+r,i))return m.log("Slot excluded; element hidden",i);if(o){if(q[t.getSlotElementId()])return m.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(a){var n=U[i]||0;if(a<=n)return P[i]?m.log("Slot excluded; too many imps: ",t,n+" > "+a):m.err("Slot imp max: ",t.getAdUnitPath(),i,a)}}i=[];if(b.trigger("gpt.filter_slot",r,t,o,i),i.length)return m.log("Module blocking",r,t,i);s.push(e)}}}),s}),L=function(e,t,i){var n=m.dom_invisible(t);if(n){i=i||0;var r=f.libSettings().block_invisible;if("function"==typeof r&&(r=r(e,t,n)),r)return m.err("DEI.R",e,t,n,i),n;m.err("DEI.A",e,t,n,i)}return!1};window.AdBridg.defineSlot=m.wrapAsync(function(e,t,i){var n=L("DS",i);if(n)return m.log("Slot definition blocked: ",i,n),!1;var r=f.libSettings().block_slot;if("function"==typeof r)try{if(r(e,i))return void m.err("Blocking slot:  ",e," with dom_id: ",i)}catch(e){m.err("DefineOverride",e)}var o=f.libSettings().override_define;if("function"==typeof o)try{var a=o(e,t,i);if(!1===a)return m.log("Param override prevented defineSlot",e," dom_id=",i),!1;"object"==typeof a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(i=a.dom_id))}catch(e){m.err("DefineOverride",e)}t&&(!m.isarr(t)||t.length)||(h.ctr("dsea"),t=[1,1]);var s=AdBridg.gpt.defineSlot(e,t,i);if(!s)return s;s.addService(AdBridg.gpt.pubads()),B(s);var d=D(t,e,i),c=d.join(","),u=new p({dom_id:i,gpt_slot:s,gpt_sizes:c,imp_ctr:(U[i]||0)+1});u.restrictSizesTo(d),v[i]=c;n=400,d=f.libSettings().lazy;return"function"==typeof d&&"number"==typeof(d=d(u,s,i,f.libSettings()))&&(n=d),d&&(m.log("Requiring lazy: ",i,"distance=",n),u.set("lock.lazy",1),d=f.libSettings().lazy_measurement_filter,m.dom(i,n,0,function(){m.logl("wf",C,"unit triggered lazy load",u.alias,u.get("dom_id")),u.set("lock.lazy",!1),j?AdBridg.serve():AdBridg.display(i)},d,f.libSettings().lazy_compatible_collapse)),_.push(u),m.log(C,"Defined slot: ",e,i,c),b.trigger("gpt.define",u,s,e,t,i),f.libSettings().allow_serve_from_display&&g[i]&&(m.logl("wf",C,"triggering serve from define after display",i),AdBridg.serve()),j||("function"==typeof(c=f.libSettings().nonsra_poll)&&(c=c()),c&&(m.log("Nonsra poll for DOM ids"),H(i))),s}),window.AdBridg.defineOutOfPageSlot=m.wrapAsync(function(e,t){var i=AdBridg.gpt.defineOutOfPageSlot(e,t);if(!i)return i;i.addService(AdBridg.gpt.pubads()),B(i);var n=new p({dom_id:t,gpt_slot:i,gpt_sizes:""});return _.push(n),m.log(C,"Defined OOP slot: ",e,t),b.trigger("gpt.define",n,i,e,!1,t),f.libSettings().allow_serve_from_display&&g[t]&&(m.logl("wf",C,"triggering serve from defineOOP after display",t),AdBridg.serve()),i});var F={},H=function(t){F[t]=F[t]||{ct:0,tx:-1};var i=F[t];clearTimeout(i.tx),10!==i.ct?(i.ct+=1,i.tx=setTimeout(m.wrapAsync(function(){if(!g[t]){var e=!!document.getElementById(t);if(m.log("Nonsra display poll #"+i.ct+": ",t,"; display received =",!!g[t],"; dom exists =",e),e)return m.log("Nonsra issuing display from poll",t),void AdBridg.display(t);H(t)}}),1e3)):m.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=m.wrapAsync(function(e,t,i){if(i?(AdBridg.defineSlot(e,t,i),AdBridg.serve()):i=e,g[i]=!0,m.logl("wf",C,"display received",i),f.libSettings().allow_serve_from_display&&_.length&&(m.logl("wf",C,"triggering serve from display",i),AdBridg.serve()),w=!0,!j){_.length&&(l=l.concat(_),_=[]);for(var n=l.length-1;0<=n;--n){var r,o=l[n].get("dom_id");g[o]&&((r=l.splice(n,1)[0]).get("gpt_sizes")?_.push(r):m.logl("Ignoring display for unit with no sizes",o))}return _.length?(m.logl("wf",C,"nonsra issuing serve",_.length),void X(function(n,r){oe("dn",function(){n?n.eachUnit(function(e){m.logl("wf",C,"display resolved",e.get("dom_id"),"auction=",n),AdBridg.gpt.display(e.get("dom_id")),b.trigger("gpt.request_nosra",e.get("dom_id"))}):(m.logl("wf",C,"display resolved",r," as passthrough"),AdBridg.gpt.display(r),b.trigger("gpt.request_nosra",r));var e=l.length;if(e){m.logl("wf",C,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var i=l[t].get("dom_id");if(g[i]){setTimeout(function(){AdBridg.display(i)},0);break}}}})})):void m.logl("wf",C,"nonsra display waiting on definition/serve")}oe("ds",function(){$(),m.logl("wf",C,"display resolved",i),AdBridg.gpt.display(i)}),T()}),window.AdBridg.refresh=m.wrapAsync(function(e,t){if(e=e||AdBridg.gpt.pubads().getSlots(),f.libSettings().allow_serve_from_refresh&&_.length){for(var i=e.length-1;0<=i;i--)for(var n=_.length-1;0<=n;n--)e[i]===_[n].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}var o,a,s,d,r=e.length;e=N("RF",e,!0),m.logl("wf",C,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length?(o=new c,a="no_auction"!==f.libSettings().refresh,s=[],d=[],m.each(e,function(e){try{R(e)}catch(e){return m.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();B(e);var i,n,r=v[t]||"";y[t]&&(n=(i=y[t].adb||y[t].gpt)&&"0x0"!==i&&i.match(/^\d{2,}x\d{2,}\d/),m.logl("sz","Refresh size restriction for",t,"=",i,"; is_valid=",n),n&&(r=i));t=new p({dom_id:t,gpt_slot:e,gpt_sizes:r,is_refresh:!0,imp_ctr:(U[t]||0)+1});a&&(f.configureUnit(t),m.logl("sz","Refresh restricting sizes to ",r),t.restrictSizesTo(r.split(","))),t.hasBidReqConf()?o.addUnit(t):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(m.log("Refreshing",s.length,"non-bid units: ",d),oe("rn",function(){$(),M(s),m.log(C,"GPT RF Batch: ",s.length);var e=f.libSettings("gpt_refresh_options",t);e&&(t=e),AdBridg.gpt.pubads().refresh(s,t),b.trigger("gpt.request_passthrough",s,!0)})),o.hasUnit()&&(z.push(o),o.execute(E(null,t,!0)))):r&&m.err("RF units cancelled")});var G={},V=m.wrapAsync(function(e){var t=String(e.message||e.data),i=t.substr(0,9),t=t.substr(10);return"adbsrverr"===i?m.err("Safeframe error: ",t):"adbsrvlog"===i?m.log("Safeframe: ",t):"adbvidend"===i?b.trigger("bid.outstream_end",t):"adbsrvreq"===i?G.hasOwnProperty(t)?m.err("SafeframeDupe:",t):void AdBridg.render({safeframe:!0,source:e.source},t):void 0});window.addEventListener?window.addEventListener("message",V,!1):document.attachEvent&&window.attachEvent("onmessage",V),window.AdBridg.render=m.wrapAsync(function(t,e){var i,n=!("object"!=typeof e);if(n)i=e,m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," [override] creative from ",i.config.bidder_name," BR ",i.config.id);else{if(!I[e])return void m.err("Render failed for ID ",e);var r=(i=I[e])._origin?"(pooled bid from "+i._origin.config.unit.unique_id+")":"";m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name,r," BR ",i.config.id),h.bidRendered(i)}e=i.config.unit.get("dom_id"),r=m.dom_invisible(e);L("AR",e,i.config.bidder_id),r&&m.log("AdBridg render detected invisible container at time of render:",e,r);r={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras,dom_id:e};n&&(r.override=1);var o=JSON.stringify(r);if(i.adbridg_rendered=!0,b.trigger("bid.render",i,r),t.safeframe&&t.source&&t.source.postMessage){var a=f.libSettings().pmmutatefn;if(!i.creative)return m.err("Safeframe render fail: no creative");var s={ad:"\x3c!-- AdBridg Delivery (SF): "+o+" --\x3e"+i.creative};"function"==typeof a&&(s=a(i,s)),t.source.postMessage("adbsrvad:"+JSON.stringify(s),"*")}else if(i.creative){a=f.libSettings().pubrenderfn,s=!1;"function"==typeof a&&(t.write("\x3c!-- AdBridg Delivery (ER): "+o+" --\x3e"),a(t,i.creative,i.config.bidder_name,i.width,i.height,i)?(s=!0,m.log("Creative rendered externally")):m.log("External render skipped")),s||(t.write("\x3c!-- AdBridg Delivery: "+o+" --\x3e"),t.write(i.creative),t.close())}else if(i.creative_url)try{var d=m.iiframe();d.width=i.width,d.height=i.height,d.style.display="inline",d.style.overflow="hidden",d.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+o)),t.body.appendChild(d)}catch(e){m.err("Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}else{if("function"!=typeof i.render)return m.err("No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);i.rawbid.adUnitCode=document.getElementById(e).children[0].id,document.getElementById(i.rawbid.adUnitCode).innerHTML="",i.render(),m.rec("winner.render:"+i.id)}var c,u,p=i.resize_pad_top||!1,l=document.getElementById(e);if(l.style.textAlign="center",(u=(c=l).getElementsByClassName("adbridg-dyn-pad")).length&&m.each(u,function(e){e.parent.removeChild(e)}),p&&((u=m.prepend(c,"span")).className="adbridg-dyn-pad",u.innerHTML="&nbsp;",u.style="display:block;width:1px;height:"+p+"px;overflow:hidden;",(u=document.createElement("span")).className="adbridg-dyn-pad",u.innerHTML="&nbsp;",u.style="display:block;width:1px;height:"+p+"px;overflow:hidden;",c.appendChild(u)),t.safeframe)try{var g=l.getElementsByTagName("iframe");m.each(g,function(e){e.contentWindow===t.source&&(m.logl("RS","RS SF element: ",e.id,i.width,i.height),m.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(m.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),m.resize_element(e.parentNode,i.width,i.height)))})}catch(e){m.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),m.logl("RS","RS iframe: ",i.width,i.height),m.resize_iframe(window,t,i.width,i.height);f.libSettings().refresh_keep_size&&(y[e]||(y[e]={gpt:"",adb:""}),y[e].adb=r.size,m.log("SIZE REFRESH KEEPING ADB: ",e,y[e]));e=f.libSettings().post_render;"function"==typeof e&&e(i)});var J=[];window.AdBridg.sizeMapping=m.wrapAsync(function(){var e,i=[],n=AdBridg.gpt.sizeMapping(),r={addSize:m.wrapAsync(function(e,t){return n.addSize(e,t),i.push([e,t]),r}),build:m.wrapAsync(function(){return e=n.build(),J.push({gpt_map:e,sizes:i}),e})};return r}),window.AdBridg.useSizeMapping=m.wrapAsync(function(e,t,i){var n=!1,r=e.getSlotElementId(),o=e.getAdUnitPath();for(e.defineSizeMapping(t),p=J.length-1;0<=p;--p)if(J[p].gpt_map===t){n=J[p].sizes;break}if(n){for(var a=m.vp(),s=a.w,d=a.h,c=!1,u=[],p=n.length-1;0<=p;--p){var l=n[p][0];if(s>=l[0]&&d>=l[1]){if(c){if(c[0]>l[0])continue;if(c[0]===l[0]&&c[1]>l[1])continue}c=l,u=n[p][1]}}var g=D(u,o,r),a=g.join(",");v[r]=a;var f=i||!1;if(!f)for(p=_.length-1;0<=p;--p)if(_[p].get("gpt_slot")===e){f=_[p];break}if(!f)return m.err("No unit for size map: ",o,r);f.set("gpt_sizes",a),f.restrictSizesTo(g),v[r]?m.log("Applied size mapping to ",r," / ",o,": ",a):(x[r]=1,m.log("Excluding unit ",r," / ",o," because it has no valid sizes"))}else m.err("Size mapping not found: ",o,r)}),window.AdBridg.resetInternals=function(){};var W=!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var i=[];return m.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete U[t],delete v[t],delete y[t],delete x[t],delete q[t],delete g[t],m.undom(t),b.trigger("gpt.destroy",e,t),i.push(t))}),m.log("Destroyed slots: ",i),AdBridg.gpt.destroySlots(e)}),$=function(){var e;W||(W=!0,"function"==typeof(e=f.libSettings().before_gpt)&&m.wrapAsync(e)(),b.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),b.trigger("gpt.after_enable_services"))},K=!1,X=m.wrapAsync(function(e){m.logl("wf",C,"serve called with",_.length,"pending units");var t=!1;$();for(var i=!1,n=0;_.length>n;){var r=_.shift();if(r.get("lock.lazy"))m.logl("wf",C,"serve skipped lazy",r.alias,r.get("dom_id")),n+=1,_.push(r);else{var o=r.get("dom_id");if(x[o]||!L("AS",o))if(f.configureUnit(r),r.hasBidReqConf()){if(d){var a=u.indexOf(r.id);if(0<=a){var s=!1;if(d.eachUnit(function(e){var t,i,n;e.id===r.id&&(s=!0,u.splice(a,1),m.log("Proxy into preload ",r.alias),t=r.get("gpt_slot"),i=r.get("dom_id"),n=v[i]||r.get("gpt_sizes")||"",e.set({dom_id:i,gpt_slot:t,gpt_sizes:n}),e.restrictSizesTo(n.split(",")),b.trigger("unit.pre_attach",e))}),s){i=!0;continue}}}(t=t||new c).addUnit(r)}else j?A.push(r.get("gpt_slot")):(M([r.get("gpt_slot")]),m.thread(e)(!1,r.get("dom_id")));else m.err("Slot rejected before auction, element hidden:",o)}}(t||d)&&f.libSettings().gpt_keep_oop&&A.length&&(m.log("Batching passthrough units with auction units"),S=S.concat(A),A=[]),t&&(z.push(t),t.execute(E(e)),t=!1),i&&!K&&(K=!0,ce(E())),T()}),Q=!1;window.AdBridg.serve=function(e){if(clearTimeout(Q),j){m.logl("wf",C,"queuing serve");var t=f.libSettings().batch_delay;if("function"==typeof t&&(t=t(_)),0===t)return m.log("Starting auctions ASAP."),X(e);t=t||100,Q=setTimeout(function(){X(e)},t)}else for(var i=_.length-1;0<=i;--i){var n=_[i].get("dom_id");if(g[n]){setTimeout(function(){AdBridg.display(n)},0);break}}};function Y(e){for(var t,i,n=z.length-1;0<=n&&!(t=(i=z[n]).findUnit(e));--n);return!t&&d&&(t=(i=d).findUnit(e)),!!t&&{auction:i,unit:t}}var Z=m.wrapAsync(function(t){var e,i=t.slot.getSlotElementId();!t.isEmpty&&L("RE",i)&&m.log("Slot rendered from GPT, but element hidden by CSS:",i);try{e=t.slot,m.log("Unlocked slot: ",e.getSlotElementId()),q[e.getSlotElementId()]=!1,R(e)}catch(e){m.err("Unlock failed")}var n=U[i];b.trigger("gpt.render_raw",t,n);var r=Y(function(e){return e.get("gpt_slot")===t.slot});if(f.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(y[i]||(y[i]={gpt:"",adb:""}),y[i].gpt=t.size.join("x")),r){if(!r.auction)return m.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?h.gptRendered(r.auction,r.unit,t):h.enhRendered(r.auction.instancectr,r.unit.id,t),b.trigger("gpt.render",r.unit,t,n),m.qdusp()}}),ee=m.wrapAsync(function(t){b.trigger("gpt.viewed_raw",t);var e=Y(function(e){return e.get("gpt_slot")===t.slot});if(e){h.gptViewed(e.auction,e.unit);try{var i=f.libSettings().post_view;"function"==typeof i&&i(t,e.unit)}catch(e){m.err("PostView fail",e)}b.trigger("gpt.viewed",t.slot,e.unit);var n=t.slot.getSlotElementId();L("VE",n)&&m.log("Slot viewed from GPT, but element hidden by CSS:",n)}}),te=[],ie={};window.AdBridg.lock=function(e){if(ie[e])return ie[e]=null,m.log("-== GPT lock already cleared: ",e);m.log("-== GPT locked by: ",e),te.push(e)},window.AdBridg.unlock=function(e,t){for(var i=!1,n=0;n<te.length;++n)if(te[n]===e){m.log("-== GPT lock cleared: ",e),te.splice(n,1),i=!0;break}i||t||(ie[e]=!0,m.log("-== GPT unrecognized lock cleared: ",e)),ae()};var ne,re=[],oe=function(e,t){re.push({n:e,f:m.wrapAsync(t)}),ae()},ae=function(){if(!te.length)for(;re.length;)re.shift().f()},se=0,e=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),se<=99&&(se+=1),h.meta("wb",se)})},V=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),h.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",e),window.addEventListener("focus",V)):window.attachEvent&&(window.attachEvent("onblur",e),window.attachEvent("onfocus",V)),m.isdebug()&&(AdBridg.auctions=z,AdBridg.utils=m);var de=m.wrapAsync(function(){clearTimeout(ne);var e={delay:!1};if(b.trigger("adb.init_check",e),"number"!=typeof e.delay){b.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",Z),AdBridg.gpt.pubads().addEventListener("impressionViewable",ee),r=!0;var t=f.libSettings().initfn;for(t&&AdBridg.cmd.push(t);o.length;){var i=o.shift();AdBridg.cmd.push(i)}}else ne=setTimeout(de,e.delay)});window.AdBridg.lazy=function(e,t,i,n){"function"==typeof i&&(n=i,i=0),m.dom(e,t,i,n)},m.log("First execution."),f.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){e=f.libSettings().preload&&f.libSettings().preload()||[];if(e.length){for(var t=AdBridg.cmd.length;0<=t;t--){var i=AdBridg.cmd[t];i&&i.gpt_path&&AdBridg.cmd.splice(t,1,function(i){function n(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?i.push(e):m.err("Invalid preload size: ",e)}var i=[];return m.isarr(e)&&(m.isarr(e[0])?m.each(e,t):t(e)),i}var r=n(i.size||[]);return function(){var t,e=AdBridg.defineSlot(i.gpt_path,r,i.dom_id);m.isarr(i.size_map)&&(t=AdBridg.sizeMapping(),m.each(i.size_map,function(e){t.addSize(e.viewport,n(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}(i))}e&&e.length&&(d=new c,m.each(e,function(e){if(e=parseInt(e,10),m.log("Preloading",e),e){var t=new p;if(f.configureUnit(t,e),!t.hasBidReqConf())return m.err("Preload bad id",e);u.push(e),d.addUnit(t)}}),d.hasUnit()&&(m.log("Preload kickoff",d),d.execute(m.wrapAsync(function(e){m.log("Preload complete"),n&&n(e)}))))}}});var ce=function(e){d.isDone()?e(d):n=e};f.afterConsent(function(){AdBridg.gpt.cmd.push(function(){m.log("Initializing. SRA is",(j?"enabled":"disabled")+"."),j&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),de()})}),m.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if(m.qs("adb_critfail"))throw new Error("Simulating critical failure");if("function"==typeof f.libSettings().cmd_override)try{var e=f.libSettings().cmd_override(t);if(!e)return void m.log("AdBridg command cancelled",t);t=e}catch(e){m.err("CmdOverrideFail",e)}if("object"!=typeof t||(t.config&&(f.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(m.each(t.events,function(e,t){b.on(t,e)}),delete t.events),t.action&&(m.log("Publisher event triggered: ","pub."+t.action),b.trigger("pub."+t.action),delete t.action),Object.getOwnPropertyNames(t).length))if(r){if("object"==typeof t&&(t.gpt_path||t.length))try{m.log("Initialization command object processing:",t);function i(r){AdBridg.gpt.cmd.push(function(){var i,e;if(r.oop)i=AdBridg.defineOutOfPageSlot(r.gpt_path,r.dom_id);else if((i=AdBridg.defineSlot(r.gpt_path,r.size||[1,1],r.dom_id))&&r.size_map){for(var t=AdBridg.sizeMapping(),n=0;n<r.size_map.length;n++)t=t.addSize(r.size_map[n].viewport,r.size_map[n].sizes);t=t.build(),i.defineSizeMapping(t),AdBridg.useSizeMapping(i,t)}i&&r.targeting&&m.each(r.targeting,function(e,t){i.setTargeting(t,e)}),i&&r.events&&(r.events["gpt.defined"]&&r.events["gpt.defined"](i),(e=function(t,e){r.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===i&&r.events[t](i,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),i&&AdBridg.display(r.dom_id)})}if(t.length)for(var n=0;n<t.length;++n)i(t[n]);else i(t);t=function(){AdBridg.serve()}}catch(e){m.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){m.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else o.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}function ue(){}},{"../analytics.js":11,"../auction.js":12,"../config.js":13,"../modules.js":16,"../unit.js":30,"../utils.js":31}],16:[function(e,t,i){function n(e){a.push(e)}var r=e("./utils.js"),o={},a=[],s=["gpt.after_enable_services"],d={},c={},u={on:function(e,t){r.isarr(e)||(e=[e]),r.each(e,function(e){d[e]?t(e):(c[e]||(c[e]=[]),c[e].push(t))})},trigger:null};u.trigger=i.trigger=r.wrapAsync(function(e){var t=arguments,i=(c[e]||[]).concat(c["*"]||[]);r.each(i,r.wrapAsync(function(e){e.apply(null,t)})),-1<s.indexOf(e)&&(d[e]=1)});var p=!1;r.onerr(r.wrapAsync(function(){return p?(console&&console.log("AdBridg nested module errors"),void r.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(p=!0,i.trigger("error",arguments),void(p=!1))})),i.on=r.wrapAsync(function(e,t){u.on(e,t)}),i.setup=function(e){o=e};try{n(new(e("./modules/gamkvp.js"))({},u)),n(new(e("./modules/criteoid.js"))({},u)),n(new(e("./modules/pubcid.js"))({},u)),n(new(e("./modules/nextrollid.js"))({partner_id:"1013"},u)),n(new(e("./modules/britepoolid.js"))({params:{api_key:"f0bc17cb-cf56-4ef4-9b26-34ea474310f8"}},u)),n(new(e("./modules/liverampid.js"))({use_ats:!0,load_ats:!0,defer:function(t){function e(){var e;i||(i=!0,e=o.libSettings().pub.cc,"US,AU,CA".match(e)?t():r.log("LiveRamp disabled in cc",e))}var i=!1;o.libSettings&&o.libSettings().pub?e():AdBridg.cmd.push({events:{"pub.config":e}})},abtest:1,pid:1974,params:{detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"rvid",cssSelectors:["input[type=email]"]},hasId:function(){return!!r.qs("rvid")}},u)),n(new(e("./modules/rhunt.js"))({},u)),n(new(e("./modules/lzest.js"))({},u)),n(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon",active_deals:["228138","289688","537706","537708","551228","555592","557266","557626","563118","563120","571722","577410","585212","587438","587740","593120","598926","601724","611022","617878","617898","617902","617904","636652","639656","640960","644612","646450","646454","646456","646458","646460","646462","646464","650190","650682","650688","652304","652318","652674","652676","652814","653364","653372","653374","653376","653618","653620","653624","653626","653628","653630","654156","654158","655884","656474","658412","658414","661672","661676","662338","662342","681840","681842","682346","683114","683116","683118","683120","683122","683124","683126","683128","683130","684220","684234","684702","685438","685440","686614","687354","692252","693512","693516","694194","695512","695514","695516","695518","695520","695522","695524","695526","704066","704728","705044","705046","705048","705292","706672","706694","706696","707888","707890","708380","711304","711632","711636","711642","713426","713430","713432","713434","713436","713438","713440","713442","713444","713446","713448","715108","715112","715114","715118","715120","715122","715128","715132","715138","715140","715290","716044","716046","717744","717746","717750","718298","718614","722042","723006","723006","725608","725684","725686","725698","726156","728286","728284","728282","728278","728276","728272","728270","728264","728302","730414","732206","732208","733104","733102","732788","732786","737548","737572","737586","737730","738836","738600","739226","741632","741908","743502","729174","717748","713428","680158","680156","664438","657076","630498","630492","630480","630478","509974","509972","426974","426972","224468","224464","178132","178128","176758","746904","746570","747488","747490","747492","747494"]},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang",active_deals:["IXMARKETPLACESTDMOBILE","IX1586788200","OMGIXMARKETPLACEDISPLAY2020","IXMARKETPLACESTDDISPLAY","IX591644687639373433","IX525702270424034978","IX525702221546178117","IX550264724736831538","IX550264684461350460","IXCPDBAYERDIS001","IXMARKETPLACEDISPLAY","IXCPDSTFRMDSPLY001","IX1595262354","IX560362592774763062"]},appnexus:{deal:"hb_deal_appnexus",adid:"hb_adid_appnexus",active_deals:["605026","605026","946028","717372","717369","717368"]}}},u)),n(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","300x50","320x50","728x90","970x90","970x250"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),r.log("Healthline config not detected; using globals")),(e.pub||(__NEXT_DATA__||{}).query||{}).skipGDPR||(window.initParams||{}).gdpr?((e.pub?!e.pub.sponsorship:!(((__NEXT_DATA__||{}).props||{}).adTargeting||{}).isSponsored)||"US"!==HL.c.countryCode)&&{skip_init:!0}:(r.log("Amazon/HL GDPR not set yet; skipping initialization request."),!1)}},u)),n(new(e("./modules/gamconfig.js"))({active:{url:"isAdBridg"},autostart:0,slots:[{dom_ad_class:"dlb1",gpt_path_builder:"{{lib.adb.hl_prefix}}/DLB1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[728,90],viewport:[768,0]},{sizes:[[728,90],[970,90],[970,250]],viewport:[990,0]}]},{dom_ad_class:"mlb1",gpt_path_builder:"{{lib.adb.hl_prefix}}/MLB1",size_map:[{sizes:[[320,50],[300,50]],viewport:[0,0]},{sizes:"",viewport:[768,0]}]},{dom_ad_class:"inline0",gpt_path_builder:"{{lib.adb.hl_prefix}}/{{lib.adb.device_code}}MR1",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"inline1",gpt_path_builder:"{{lib.adb.hl_prefix}}/{{lib.adb.device_code}}{{lib.adb.inline_code}}2",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline2",gpt_path_builder:"{{lib.adb.hl_prefix}}/{{lib.adb.device_code}}{{lib.adb.inline_code}}3",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"inline3",gpt_path_builder:"{{lib.adb.hl_prefix}}/DLB3",size_map:[{sizes:"",viewport:[0,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline4",gpt_path_builder:"{{lib.adb.hl_prefix}}/{{lib.adb.device_code}}{{lib.adb.inline_code}}4",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"inline5",gpt_path_builder:"{{lib.adb.hl_prefix}}/{{lib.adb.device_code}}{{lib.adb.inline_code}}5",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:"",viewport:[990,0]}]},{dom_ad_class:"sticky1",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[[300,250],[300,600]],viewport:[990,0]}]},{dom_ad_class:"sticky2",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR2",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky3",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR3",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky4",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR4",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky5",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR5",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky6",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR6",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky7",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR7",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky8",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR8",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky9",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR9",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky10",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR10",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky11",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR11",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky12",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR12",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky13",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR13",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR1",gpt_path_builder:"{{lib.adb.hl_prefix}}/DCMR1",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR2",gpt_path_builder:"{{lib.adb.hl_prefix}}/DCMR2",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_id:"ina",gpt_path_builder:"{{lib.adb.hl_prefix}}/ina",size_map:[{sizes:[320,50],viewport:[0,0]}]},{dom_id:"div-gpt-ad-out-of-page",gpt_path_builder:"{{lib.adb.hl_prefix}}/out-of-page",oop:1,size:[[1,1]]},{dom_ad_class:"sticky14",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR14",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky15",gpt_path_builder:"{{lib.adb.hl_prefix}}/DMR15",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR3",gpt_path_builder:"{{lib.adb.hl_prefix}}/DCMR3",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR4",gpt_path_builder:"{{lib.adb.hl_prefix}}/DCMR4",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR5",gpt_path_builder:"{{lib.adb.hl_prefix}}/DCMR5",size_map:[{sizes:"",viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]}]},u))}catch(e){r.err("Module failed",e)}},{"./modules/amazon.js":17,"./modules/britepoolid.js":18,"./modules/criteoid.js":19,"./modules/gamconfig.js":20,"./modules/gamkvp.js":21,"./modules/gprog.js":22,"./modules/liverampid.js":23,"./modules/lzest.js":24,"./modules/nextrollid.js":25,"./modules/pubcid.js":26,"./modules/rhunt.js":27,"./utils.js":31}],17:[function(e,t,i){var l=e("../utils.js"),g=e("../config.js"),r=(t.exports=function(o,e){function a(e){var i=[],n=o.allowed_sizes;return l.each(e,function(e,t){if(n&&-1==n.indexOf(e))return l.log("Amazon unsupported size: ",e);e=e.split("x");e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10),i.push(e)}),i}var s={},d={},c={},u=!l.qs("adb_enable_amzn")&&o.test;"function"==typeof u&&(u=u());var t=o.load_apstag;"function"==typeof t&&(t=t());var i=!1,n=!1;if("function"==typeof g.libSettings().nogpt&&g.libSettings().nogpt()||l.qs("adb_nogpt"))return l.log("nogpt Disabling Amazon"),void(u=n=!(t=!1));function p(){if(i)return u;var r=o.init;return"function"==typeof r&&(r=r(g.libSettings())),r?(i=!0,u?(l.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),u):window.apstag?void(r.skip_init||g.afterConsent(function(e,t){var i=t&&t.uspString,n=i&&"1---"===t.uspString;if(i&&(!n||!o.skip_ccpa_default)&&(r.params=r.params||{},r.params.us_privacy=t.uspString,o.no_ca&&"Y"===t.uspString.substr(2,1)))return u=!0,void l.log("Amazon disabled for CA",t.uspString);apstag.init(r),l.log("Amazon initialized:",r)})):(t||n||(l.err("Amazon library not found."),n=!0),u=!0)):(l.log("Amazon init bypassed."),!1)}u||!t||r()||(u=i=!0),e.on("unit.config",function(e,t){if(!p()){var i=t.get("dom_id"),n=t.get("gpt_slot");if(!i||!n)return l.log("Amazon skip",i,n);var r=n.getAdUnitPath()+"",n=o.get_slot_name?o.get_slot_name(r,i,n,t):(r.match(/([^\/]+)$/)||[""])[0];if(!n)return l.err("Amazon noname: ",n,i,r);n={slotID:i,slotName:n,sizes:d[i]||a(t.all_sizes)};o.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(t=window.PublisherCommonId.getId(),n.slotParams={"pubcid.org":[t]}),s[i]=n,l.log("Amazon slot configured",n,!!d[i])}}),e.on("unit.restrict_sizes",function(e,t,i){p()||(t=t.get("dom_id"),i=a(i),d[t]=i,(t=s[t])&&(l.log("Amazon slot resize",t,i),t.sizes=i))}),e.on("gpt.destroy",function(e,t,i){p()||(l.log("Amazon slot remove",i),delete s[i],delete d[i])}),e.on("unit.pre_attach",function(e,t){if(!p()){var i=t.get("dom_id"),n=s[i];if(!n)return l.log("Amazon preload mismatch",i);var r=t.auction,o="amazon."+t.id;r.lock(o),apstag.fetchBids({slots:[n],timeout:r.max_ms},l.wrapAsync(function(){l.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}r.unlock(o)}))}}),e.on("auction.start",function(e,t){var i,n,r,o;p()||(i=[],t.eachUnit(function(e){var t=e.get("dom_id"),e=s[t];e?(i.push(e),s[t]=null):l.log("Amazon no config",t)}),i.length&&(n={slots:i,timeout:t.max_ms},l.log("Amazon request",t.id,n),r="amazon."+t.id,c[r]=!0,t.lock(r),o=setTimeout(l.wrapAsync(function(){c[r]&&(c[r]=!1,t.unlock(r),l.err("Amazon incomplete at 50"))}),t.max_ms+50),apstag.fetchBids(n,l.wrapAsync(function(){l.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}clearTimeout(o),c[r]&&(c[r]=!1,t.unlock(r))}))))})},function(){if(window.apstag)return l.log("Amazon already loaded"),!0;l.log("Loading Amazon dependency");try{i="apstag",n=window,r=document,n[i]||(n[i]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(t=r.createElement("script")).async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",(r=r.getElementsByTagName("script")[0]).parentNode.insertBefore(t,r))}catch(e){return l.err("Amazon load failed",e),!1}function e(e,t){n[i]._Q.push([e,t])}var i,n,t,r;return!0})},{"../config.js":13,"../utils.js":31}],18:[function(t,i,e){function u(e){n=e,p.thread(function(){t("../analytics.js").meta("i2",n)})()}var n,p=t("../utils.js"),l=t("../ajax.js"),r=t("../config.js"),g="britepoolid",f="https://px.britepool.com/new?partner_id=t";u("N");var o,a=!1;i.exports=function(s,e){var d,c=!1;if(o||(o=!0,e.on("gamkvp.getids",function(e,t){c?t.push("i2y"):t.push("i2n")})),s.defer&&!a)return a=!0,p.log("Britepool deferring load"),void s.defer(p.wrapAsync(function(){p.log("Britepool resuming load"),i.exports(s,e)}));!s.active||s.active()?(p.log("Britepool enabled"),(c=p.cr(g))&&(p.log("Britepool read: ",c),u("C")),e.on("unit.config",function(e,t){c&&(p.log("Set britepool ID on unit",c,t),t.set("userId.britepoolid",c),t.set("userIdAsEids.britepool",{source:"britepool.com",uids:[{id:c,atype:1}]}))}),c||(d=function(e){var t=null;if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){p.err(e)}return t},r.afterConsent(function(e){var t,i=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,n=[],r={},o="undefined"!=typeof britepool_pubparams?britepool_pubparams:{},e=Object.assign({},s.params,o);e.getter?"function"!=typeof e.getter?n.push("Britepool requires getter to be a function"):t=e.getter:e.api_key&&(r["x-api-key"]=e.api_key);o=e.url;e.url||(o="https://api.britepool.com/v1/britepool/id"+(i?"?gdprString="+encodeURIComponent(i):"")),delete e.api_key,delete e.url,delete e.getter;var a=null;if("function"==typeof t&&(p.log("Britepool exec getter",e),"function"!=typeof(a=t(e))))return p.log("Britepool got id from getter",a),c=d(a),u("GV"),void p.cw(g,c,30);if(e.hash||e.ppid||(p.log("Britepool pixel",f),p.pixel(f)),n.length)p.log("Britepool errors",n);else if(a){p.log("Britepool getting id from getterResponse exec");try{a(function(e){p.log("Britepool set id from getterResponse",e),c=d(e),u("GF"),p.cw(g,c,30)})}catch(e){p.log("Britepool error in getterResponse exec",e),u("GE")}}else{p.log("Britepool fetching from url",o);e={url:o,withCredentials:!0,parseResponseJson:!0,headers:r,method:"POST",contentType:"application/json",data:JSON.stringify(e)};l(e,function(e,t){var i;e?"timeout"===e.type?u("ET"):e.type?(i=e.type.match(/status=(\d+)/))&&u("E"+i[1]):u("E"):(i=d(t))?(p.log("Britepool set id xhr",i.primaryBPID),c=i.primaryBPID,u("A"),p.cw(g,c,30)):p.log("Britepool no id",t)})}}))):p.log("Britepool disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":31}],19:[function(t,e,i){function d(e){n=e,c.thread(function(){t("../analytics.js").meta("i3",n)})()}var n,r,c=t("../utils.js"),u=t("../ajax.js"),o=t("../config.js"),p="criteoId",l="cto_bidid",g="cto_bundle";d("N"),e.exports=function(e,t){var a;function i(e){var t=c.cr(e);return t?d("C"):(t=c.lr(e))&&d("L"),t}function s(e,t){e&&t&&(c.cw(e,t,390),c.lw(e,t))}function n(e,t){var i=c.cookies,n=(c.url().referrer||"").replace(/^(https?\:\/\/[^\/]+).*$/,"$1/"),r=c.url().domain,o="undefined"!=typeof criteo_pubtag,o=(n=n,r=r,e=e.bundle,i=i,o=o,t=t,"https://gum.criteo.com/sid/json?origin=prebid"+(n?"&topUrl="+encodeURIComponent(n):"")+(r?"&domain="+encodeURIComponent(r):"")+(e?"&bundle="+encodeURIComponent(e):"")+(t?"&gdprString="+encodeURIComponent(t):"")+(i?"&cw=1":"")+(o?"&pbt=1":""));u({url:o,withCredentials:!0,parseResponseJson:!0},function(e,t){var i,n;return e?("timeout"===e.type?d("ET"):e.type?(i=e.type.match(/status=(\d+)/))&&d("E"+i[1]):d("E"),void c.log("CriteoID err",e)):(t.bidId?(s(l,t.bidId),a=t.bidId,d("A")):(n=l,c.cw(n,"",-1),c.lw(n,"")),void(t.acwsUrl?(n="string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl,c.each(n,function(e){c.log("CriteoID acwsUrl",e),c.pixel(e)})):t.bundle&&s(g,t.bundle)))})}r||(r=!0,t.on("gamkvp.getids",function(e,t){a?t.push("i3y"):t.push("i3n")})),!e.active||e.active()?(c.log("CriteoID enabled"),o.afterConsent(function(e){var t;e&&e.gdprApplies&&!e.consentString||(t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,(e={bundle:i(g),bidId:i(l)}).bidId&&(a=e.bidId),n(e,t))}),t.on("unit.config",function(e,t){a&&(c.log("Set CriteoID on unit",a,t),t.set("userId."+p,a),t.set("userIdAsEids."+p,{source:"criteo.com",uids:[{id:a,atype:1}]}))})):c.log("CriteoID disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":31}],20:[function(e,t,i){function D(e){var t=e.js.split(".");if("window"==t[0]){t=t[1];return window.hasOwnProperty(t)?window[t]:void 0}O.log("GamConfig JS read fail",e)}var O=e("../utils.js"),P=e("../config.js"),U=(e("../unit.js"),{});t.exports=function(e,t){var z="adbridg-ad-class",C="data-adbridg-ad-class",j="data-adbridg-ad-class-loaded",R="data-adbridg-ad-class-invalid",k="data-adbridg-phase",E="adbridg_ad_",T="data-adbridg-gam-path",B=0;t.on("pub.spa_pv_initialize",function(){B=1});function i(e,l){var t,i,r,g,f,m,h,b,_,v,o,a,s,n,y,x,w,d,c,u,p,A,S,I=e.active;I&&I.js&&(I=D(I)),I&&I.url&&(new RegExp(I.url,"i"),I=O.url().href.match(I.url)),I?(O.log("GamConfig enabled",e),e.pageType&&(t=[],(i=e.pageType)&&i.js&&(i=D(i)),O.each(e.slots,function(e){e.page_type===i&&t.push(e)}),O.log("GamConfig page type slots: ",{total_slots:e.slots.length,page_type_slots:t.length,slots:t}),e.slots=t),e.collapseEmptyDivs&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().collapseEmptyDivs()}),e.centering&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().setCentering(!0)}),e.safeFrames&&AdBridg.gpt.cmd.push(function(){O.log("Requiring GPT Sandbox SafeFrames"),AdBridg.gpt.pubads().setSafeFrameConfig({sandbox:!0})}),r={},g=function(e){AdBridg.cmd.push(function(){O.each(e,function(e,t){var i=e;e&&e.js&&(e=D(e)),e&&e.qs&&(e=O.qs(e.qs.match)?e.qs.value:void 0),void 0!==e?(O.log("GamConfig setting page targeting: ",t,e),AdBridg.gpt.pubads().setTargeting(t,e),r[t]=e):O.log("GamConfig targeting empty",t,e,i)})})},l.on("pub.config",function(e,t){g(t.targeting)}),e.targeting&&g(e.targeting),f=function(e,t){var i=e.getAttribute(k)||"";i&&(i+=";");t=(i+t+"@"+O.dts()+"ms").substr(0,200);200==t.length&&(t+="..."),e.setAttribute(k,t)},(o=function(){m={},h={},b={},v=!(_={}),O.each(e.slots,function(t){if(!P.libSettings().gam_filter||P.libSettings().gam_filter(t)){if(t.dom_ad_class)return v=!0,void(_[t.dom_ad_class]=t);if(t.inject&&!document.getElementById(t.dom_id)){var e=document.createElement("div");e.id=t.dom_id;try{document.body.appendChild(e)}catch(e){O.err("GamConfig cannot inject",t.dom_id,e)}}var i=t.dom_id;m[i]||h[i]?O.err("GamConfig duplicate dom_id",i):m[i]=t}else O.log("GamConfig slot skipped by pub",t)})})(),a=function(e,t){if(m[e.id])return!0;var i,n=e.getAttribute&&(e.getAttribute(C)||e.getAttribute(z));if(_[n])return!0;if(i=(O.qs("adb_gcerr")?e.children:e.children||[]).length,t&&i)for(var r=0;r<i;++r)if(a(e.children[r],!0))return!0;return!1},s=function(){clearTimeout(y),y=setTimeout(function(){w()||u()},10)},n=function(e){for(var t=0;t<e.length;++t){var i=e[t];if("attributes"==i.type)return a(i.target,!1)?s():void 0;for(var n=0;n<i.addedNodes.length;++n){i.addedNodes[n];if(a(i.target,!0))return s()}}},x=e.scan_interval||200,w=function(){clearTimeout(y);var e,s=!1;if(v){s=!0;for(var t=document.querySelectorAll("["+C+"],["+z+"]"),i=0;i<t.length;++i){var r,n,o,a=t[i],d=a.getAttribute(C)||a.getAttribute(z);d&&(_[d]?(n=d.replace(/[^\w\d]+/gi,""),U[e=n]=(U[e]||0)+1,r=U[e],a.setAttribute("data-adbridg-ad-class-ctr",r),a.id||(a.id=E+n+"_"+r),a.removeAttribute(C),a.removeAttribute(z),a.setAttribute(j,d),n=_[d],(o=O.deepAssign({dom_id:a.id},n)).targeting&&O.each(o.targeting,function(e,t){var i,n;"object"==typeof e&&e.format&&(o.targeting[t]=(i=e.format,n=r,e=i.match(/\{\{[^\}]+\}\}/g),O.each(e,function(e){"dom_ctr"!==e.replace(/[\{\}]/g,"")?O.err("GamConfig unknown slot targeting format",e):i=i.replace(e,n)}),i))}),m[a.id]=o):(O.err("GamConfig invalid ad class attribute",d),a.removeAttribute(C),a.removeAttribute(z),a.setAttribute(R,d)))}}var c=[],u=[],p=[];return O.each(m,function(i,n){var t,e,r,o,a=document.getElementById(n);a?((e=a.getAttribute(T))&&""!=e&&(O.log("Path Override: ",T),i.gpt_path=e,delete i.gpt_path_builder),(e=a.getAttribute("data-adbridg-page-kvps"))&&""!=e&&(o=e.split(/[,]+/),O.log("parse_all_page_kvp",o),t={},O.each(o,function(e){e=e.split(/[:]+/);2===e.length&&(t[e[0]]=e[1])}),O.log("Targeting map",t),g(t)),a.innerHTML="",f(a,"detected"),p.push(n),h[n]||(h[n]=!0,c.push(i),i.gpt_path_builder&&(i.gpt_path=(r=""+(e=i).gpt_path_builder,o=r.match(/\{\{[^\}]+\}\}/g),O.log("GamConfig extracted curlies: ",o),O.each(o,function(e){var t,i=e.replace(/[\{\}]/g,""),n="";i.match(/^lib\.pub\./)?(t=i.replace("lib.pub.",""),(n=(P.libSettings().pub||{})[t])||(P.libSettings().pub||{}).hasOwnProperty(t)||O.err("GamConfig PathBuilder setting not present:",e),r=r.replace(e,n)):i.match(/^lib\.adb\./)?(t=i.replace("lib.adb.",""),(n=AdBridg.global(t)||"")||O.err("Warning: GamConfig PathBuilder AdBridg global empty/not present:",t),r=r.replace(e,n)):O.err("GamConfig unsupported gpt_path_builder part:",e)}),O.log("GamConfig gpt_path_builder",e.gpt_path_builder,r),r)),i.dom_ad_class&&l.on("unit.init_config",function(e,t){t.get("dom_id")==n&&t.set("dom_ad_class",i.dom_ad_class)}),i.events={"gpt.defined":function(e){f(a,"gpt_define")},"gpt.rendered":function(e,t){f(a,"gpt_render:"+t.sourceAgnosticCreativeId)},"gpt.viewed":function(e,t){f(a,"gpt_view")}},l.trigger("adb.gamconfig_slot_configure",i)),b[n]=!0,u.push(n)):s=!0}),O.each(p,function(e){delete m[e]}),c.length&&(O.log("GamConfig configuring slots",c),AdBridg.cmd.push(c)),u.length&&AdBridg.cmd.push(function(){O.each(u,function(e){AdBridg.display(e)})}),s&&!MutationObserver&&(y=setTimeout(w,x)),s},c=function(){MutationObserver?(w(),d&&u(),(d=new MutationObserver(n)).observe(document.body,{attributes:!0,attributeFilter:["id",C,z],childList:!0,subtree:!0}),O.log("GamConfig MutationObserver added")):(O.log("GamConfig polling started"),w())},p=!(u=function(){clearTimeout(y),d?(d.disconnect(),d=!1,O.log("GamConfig MutationObserver disconnected")):O.log("GamConfig polling stopped")}),l.on("pub.spa_pv_shutdown",function(){p=!0,O.log("GamConfig stopping for SPA"),o(),u(),O.each(r,function(e,t){O.log("GamConfig erasing KVP",t),AdBridg.gpt.pubads().setTargeting(t,[])});var i=[],n=[];O.each(AdBridg.gpt.pubads().getSlots(),function(e){var t=document.getElementById(e.getSlotElementId());t&&t.getAttribute(k)&&(i.push(e),n.push(t),f(t,"destroyed"),(e=t.getAttribute(C)||t.getAttribute(z)||t.getAttribute(j)||t.getAttribute(R))&&(t.removeAttribute(j),t.removeAttribute(R),t.setAttribute(C,e),(t.id||"").match(E)&&t.removeAttribute("id")))}),i.length&&AdBridg.destroySlots(i),p=!(U={})}),S=function(){clearTimeout(A),p?A=setTimeout(S,100):(O.log("GamConfig restarting SPA"),o(),c())},l.on("pub.spa_pv_initialize",S),0!=e.autostart||B?c():O.log("GamConfig waiting for publisher to initialize with action=spa_pv_initialize.")):O.log("GamConfig not enabled")}var n=function(){document&&document.body?(O.log("Body loaded. Initialising Gamconfig module"),i(e,t)):setTimeout(n,100)};n()}},{"../config.js":13,"../unit.js":30,"../utils.js":31}],21:[function(e,t,i){var o=e("../utils.js");t.exports=function(e,r){googletag.cmd.push(function(){r.on("auction.before_bids",function(){var t,e,i,n=[];r.trigger("gamkvp.getids",n),n=n.filter(function(e){return!!e.match(/^i[\w\d]{2}$/)||(o.err("GamKVP.badIdValue",e),!1)}),o.log("GamKVP setting identity tracking values in adb_pvd:",n),t=/^i/,e=n,n=googletag.pubads().getTargeting("adb_pvd")||[],i=[],n.forEach(function(e){String(e).match(t)||i.push(e)}),e&&e.length&&(i=i.concat(e)),googletag.pubads().setTargeting("adb_pvd",i),o.log("GamKVP set adb_pvd values: ",i)})})}},{"../utils.js":31}],22:[function(e,t,i){var l=e("../utils"),o=e("../config"),a=e("../analytics.js");t.exports=function(u,e){var i,p,n,r;u.bidders&&((i=o.libSettings()).gpt_clear_kvps||(i.gpt_clear_kvps=[]),l.each(u.bidders,function(e,t){i.gpt_clear_kvps.push(e.deal),i.gpt_clear_kvps.push(e.adid)}),p={},n=l.wrapAsync(function(e,t){var i;l.log("Confiant Gprog Deal Render Ad",t,p[t]),a.gprog(["render"]),p[t]?(i=p[t],AdBridg.render(e,i),p[t]=!1,a.gprog(["render2",{config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras}])):l.err("Confiant GprogBadDealid",t)}),e.on("bid.auction_close_filter",function(e,t,i){var n=i.config.bidder_name,r=u.bidders[n],n=r&&r.active_deals;n&&n.length&&i.extras&&i.extras.dealid&&(r=String(i.extras.dealid),0<=n.indexOf(r)&&(i.blocked="pmp",l.log("Confiant Gprog: active deal removed from open market auction",i)))}),(r=window.top).pbjs=r.pbjs||{},r.pbjs.renderAd=n,e.on("auction.complete",function(e,t){!r.pbjs.renderAd!==n&&(r.pbjs.renderAd=n),t.eachBidRequest(function(i,n){var r,o,a,s,d,c=n.bidder_name,e=u.bidders[c];e&&(r=e.deal,o=e.adid,e=i.get("gpt_slot"),a=i.get("dom_id"),e&&a&&r&&o&&(s=[],d=[],l.each(n.responses,function(e){var t;e.extras&&e.extras.dealid&&(t=n.id,p[t]&&p[t].creative!=e.creative&&l.log("Confiant GprogOWcreative"),p[t]=e,s.push(e.extras.dealid),d.push(n.id),l.log("Confiant GprogDeal ("+c+"): ",i.alias,"/",a,r,"=",e.extras.dealid,";",o,"=",n.id))}),s.length&&(i.settings.gprog=i.settings.gprog||{},i.settings.gprog[r]=s,i.settings.gprog[o]=d)))})}),e.on("gpt.set_targeting",function(e,t,i){t.settings.gprog&&l.each(t.settings.gprog,function(e,t){i.setTargeting(t,i.getTargeting(t).concat(e)),a.gprog(["set",t])})}))}},{"../analytics.js":11,"../config":13,"../utils":31}],23:[function(i,f,t){function m(e){j=e;var t=R();return 0<=o.indexOf(e)&&x.cw(C,t,30),t}function h(e){return r=e,R()}var b,_,v,y,x=i("../utils.js"),w=i("../ajax.js"),A=i("../config.js"),S="idl_env",I=S,z="https://ats.rlcdn.com/ats.js",n="i0",C="adb_lrs",r="",j="n",o=["A","X","aX"],R=function(){var t=(t=r+j).replace(/B/g,"");return x.thread(function(){var e=t;"b"===_&&(e+="B"),i("../analytics.js").meta(n,e)})(),t},k=x.qs("adb_lr_grp"),E=function(e){_=e,v=v||String(Math.floor(10*Math.random())),b=_+v,x.cw("adblrt",b,30),T()},T=function(){x.thread(function(){i("../analytics.js").meta("i0ab",b)})()},B=!1,D=!1;f.exports=function(o,t){if(R(),y||(y=!0,t.on("gamkvp.getids",function(e,t){D?"A"===j?(t.push("i0a"),x.log("liveramp gamkvp.getids","a")):(t.push("i0x"),x.log("liveramp gamkvp.getids","x")):(t.push("i0n"),x.log("liveramp gamkvp.getids","n"))})),o.defer&&!B)return B=!0,x.log("LiveRamp deferring load"),void o.defer(x.wrapAsync(function(){x.log("LiveRamp resuming load"),f.exports(o,t)}));if(!o.active||o.active()){x.log("LiveRamp enabled"),o.abtest&&((b=x.cr("adblrt"))&&!k?(_=b[0],v=b.substr(1),T()):k||!x.cr(I)?E("n"):E("c")),D=x.cr(I);var i=x.cr(C);if(D||"b"===_&&i){var n=(i=i||"X").replace("p","").replace("P",""),r=i.replace(n,"");if(h(r),m(n),x.log("LiveRamp read: ",i,r,n,D),"b"===_)return D=!1,void x.log("LiveRamp A/B B group")}t.on("unit.config",function(e,t){D&&(x.log("Set lre ID on unit",D,t),t.set("userId."+S,D),t.set("userIdAsEids.liveramp",{source:"liveramp.com",uids:[{id:D,atype:1}]}))});var a=!1,s=!1,d=!1,c=!1,u=0,p=function(){return window.ats?(x.log("LiveRamp intialising ats",c),a=!1,window.ats.start(c),void g(d)):s?(x.log("LiveRamp ats not found; fallback to IDL"),void g(d,!(a=!1))):(a=p,void(o.load_ats||(x.log("LiveRamp ats not loaded yet, check #",u),10<(u+=1)?(x.log("LiveRamp ats took too long to load"),s=!(a=!1),p()):setTimeout(p,500))))};o.load_ats&&(n=x.wrapAsync(function(){window.ats||(x.log("LiveRamp ats script load fail"),s=!0),a&&a()}),x.log("LiveRamp ATS loading: ",z),x.load(z,n).onerror=n);function l(e,t){if(o.abtest&&"n"===_&&(k?E(k):o.abtest<1&&Math.random()>o.abtest?E("c"):.5<Math.random()?E("a"):E("b")),m(t),o.abtest&&"b"===_){try{localStorage.removeItem("IXWRAPPERLiveRampIp"),window.ats=!1}catch(e){}x.log("LiveRamp AB - B group exit")}else x.log("LiveRamp set: ",e),D=e,x.cw(I,D,30)}var g=function(t,r){if(D)x.log("LiveRamp fetch skipped, envelope exists");else{if(o.use_ats&&window.ats&&!r)return x.log("LiveRamp fetch ats"),void window.ats.retrieveEnvelope(x.wrapAsync(function(e){e?(x.log("LiveRamp found envelope (ats)"),l(JSON.parse(e).envelope,"A")):(x.log("LiveRamp no ats user; fetching standard"),m("a"),g(t,!0))}));w({url:t,withCredentials:!0,parseResponseJson:!0},function(t,i){if(t){var n=String(t.type).match(/^status=(\d+)$/i);return n?x.err("LRIDERR_"+n[1]):t.type?x.err("LRIDERR_"+t.type):x.err("LRIDERR",e),void m(n=r?"ae":"e")}i&&i.envelope?(x.log("LiveRamp found envelope (standard)"),n=r?"aX":"X",l(i.envelope,n)):(x.log("LiveRamp unknown user: envelope empty, refetch next pv"),m(n=r?"ax":"x"))})}};A.afterConsent(function(e){var t,i,n;e&&e.gdprApplies&&!e.consentString||(o.pid?(n=(t=e&&e.gdprApplies?1:0)&&e.vendorData&&2===e.vendorData.tcfPolicyVersion,i="https://api.rlcdn.com/api/identity/envelope?pid="+o.pid+(t?(n?"&ct=4&cv=":"&ct=1&cv=")+e.consentString:""),o.use_ats?(d=i,c={placementID:o.pid},o.params&&(n="function"==typeof o.params?o.params():o.params,n=(c=Object.assign(c,n)).email||c.phoneNumber||o.hasId&&o.hasId()||!1,D||h(n?"P":"p")),t&&(c.consentString=e.consentString),p()):g(i)):x.log("LiveRamp disabled: no pid."))})}else x.log("LiveRamp disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":31}],24:[function(e,t,i){var o=e("../utils");t.exports=function(e,t){var n={},i={},r=e.offset_distance||400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);n[t]="lzno",i[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,i[t])),i[t]=function(){o.logl("lz","LazyEst triggered",t),n[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,r,0,i[t])})}),t.on("gpt.set_targeting",function(e,t,i){t.setImpData("lz",n[t.get("dom_id")]||"lzna")})}},{"../utils":31}],25:[function(t,e,i){function a(e){n=e,s.thread(function(){t("../analytics.js").meta("i4",n)})()}var n,s=t("../utils.js"),d=(t("../ajax.js"),t("../config.js"),"_adb_nextroll_id");a("N"),e.exports=function(e,t){var i=!1;if(t.on("gamkvp.getids",function(e,t){i?t.push("i4y"):t.push("i4n")}),"string"==typeof e.partner_id){if(!function(){var e=navigator.userAgent.toLowerCase();if(0<=e.indexOf("(linux; android ")){var t=e.substr(e.indexOf("linux; android ")+15).split(/\W/),i=parseInt(t[0]),n=parseInt(t[1]),t=parseInt(t[2]);if(isNaN(i)||i<4||4===i&&isNaN(n)||4===i&&0===n&&(isNaN(t)||t<3))return}else if(!e.match(/\b(ipad|iphone|ipod)\b/)||parseInt(e.substr(e.indexOf(") version/")+10),10)<9)return;return 1}())return s.log("Nextroll ID skipped: invalid UA"),void a("U");if(i=s.lr(d,!0),t.on("unit.config",function(e,t){i&&(s.log("Set Nextroll ID on unit",i,t),t.set("userId.nextroll",i))}),i)return s.log("Nextroll ID read",i),void a("L");var n=!1;t.on("gpt.render_raw",function(){n||(n=!0,s.log("Nextroll ID setup"),r(),window.RetrieveAdID(o,o,{PID:e.partner_id,app:"nextroll_id_module"}))})}else s.err("Nextroll missing partner_id");function r(){var t,i=["ReadAdID","YES","RetrieveNearestAdID","&ssn=","slice","join","ignoreOptout","&eid=","/push?uid=","/ping?uid=","dca0","loadSSN","exports","call","defineProperty","toStringTag","__esModule","object","create","string","default","hasOwnProperty","undefined","Module","bind","prototype","floor","random","toString","xid0","XIDOPTOUT","https://sn.dca0.com/key","https://sn36.dca0.com","GET","onreadystatechange","readyState","DONE","responseText","status","send","https://l",".dca0.com/srv-id/?uid=","k4838af91965497293f0d0f92c691c29","length","charAt","substring","indexOf","getTime","expires=","toUTCString","cookie",";path=/;samesite=none;secure;","PID","app","createElement","script","src","body","appendChild"];t=i,function(e){for(;--e;)t.push(t.shift())}(249);var n,r,z=function(e,t){return i[e=+e]};function o(e){if(r[e])return r[e][z("0x0")];var t=r[e]={i:e,l:!1,exports:{}};return n[e][z("0x1")](t[z("0x0")],t,t.exports,o),t.l=!0,t[z("0x0")]}r={},o.m=n=[function(e,t){function r(e){if(n[e])return n[e][z("0x0")];var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i,n;n={},r.m=i=[,,function(e,t,i){e[z("0x0")]=i(3)},function(e,t){!function(){"use strict";var e,t,h=n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n(),i=z("0x11"),b=z("0x12"),_=z("0x13"),v=z("0x14");function n(){return Math[z("0xe")](65536*(1+Math[z("0xf")]()))[z("0x10")](16).substring(1)}function y(e,t){var i=new XMLHttpRequest;i.open(z("0x15"),e,!0),i[z("0x16")]=function(){i[z("0x17")]===XMLHttpRequest[z("0x18")]&&t&&t(i[z("0x19")],i[z("0x1a")])},i[z("0x1b")]()}function x(t){var n=new Array(19),r=0,o=!1;function e(e,t,i){200===i?(t=JSON.parse(t),n[e]=t.id,r++):o=!0}for(var i=0;i<19;i++)y(z("0x1c")+i+z("0x1d")+h,e[z("0xc")](void 0,i));!function e(){o?t(null):19!==r?setTimeout(e,100):t&&t(n)}()}function w(i){!function e(){var t=window[z("0x1e")];t?i&&i(t):setTimeout(e,100)}()}function A(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),n=i[z("0x1f")],r=0;r<n;r++){for(var o=i[r];" "===o[z("0x20")](0);)o=o[z("0x21")](1);if(0===o[z("0x22")](t))return o[z("0x21")](t.length,o[z("0x1f")])}return""}function S(e,t,i){var n=new Date;n.setTime(n[z("0x23")]()+24*i*60*60*1e3);n=z("0x24")+n[z("0x25")]();document[z("0x26")]=e+"="+t+";"+n+z("0x27")}function I(e,t){return t&&(t.PID&&(e+="&PID="+t[z("0x28")]),t[z("0x29")]&&(e+="&app="+t[z("0x29")])),e}(e=document[z("0x2a")](z("0x2b")))[z("0x2c")]=_,t=e,function e(){document[z("0x2d")]?document.body[z("0x2e")](t):setTimeout(e,1)}(),window[z("0x2f")]=function(){return z("0x30")===A(b)?null:A(i)},window[z("0x31")]=function(i,n){w(function(t){x(function(e){e?y(I(_+"/"+t+"/ping/nearest?uid="+h+z("0x32")+e[z("0x33")](0,19)[z("0x34")](""),n),i):i&&i(null)})})},window.RetrieveAdID=function(e,n,r){var o=!!r&&r[z("0x35")];if(z("0x30")===A(b)&&!o)return e&&e(null),void(n&&n(null));var a=r&&r[z("0x28")]?i+"_"+r[z("0x28")]:i,s=A(a)||null;e&&e(s);var d=!1,c=2,u="",p="";function l(t){!function e(){d?s&&t(s):setTimeout(e,1e3)}()}function g(e,t,i){y(I(_+"/"+e+"/push?uid="+h+z("0x36")+encodeURIComponent(i)+z("0x32")+t.slice(0,19)[z("0x34")]("")))}function f(e,t){y(I(v+z("0x37")+h+z("0x36")+encodeURIComponent(t)+z("0x32")+e.slice(0,10).join(""),r))}function m(){var e,t,i;0==--c&&(s=u||p||s||null,d=!0,o?n&&n(s):s?(e=s,t=r,i=function(e){return e?(S(b,z("0x30"),1825),void(n&&n(null))):(S(a,s,365),void(n&&n(s)))},y(I("https://optout.dca0.com/app/v1/sync?uid="+h+z("0x36")+encodeURIComponent(e),t),function(e){i("1"===e)})):n&&n(null))}x(function(i){var e;i?(w(function(t){var e;e=i,y(I(_+"/"+t+z("0x38")+h+"&ssn="+e[z("0x33")](0,19)[z("0x34")]("")),function(e){u=e,m(),u||l(g[z("0xc")](null,t,i))})}),e=i,y(I(v+"/ping?uid="+h+z("0x32")+e[z("0x33")](0,10)[z("0x34")](""),r),function(e,t){p=e,m(),p||200!==t||l(f["bind"](null,i))})):n&&n(null)})},window.dca0=window[z("0x39")]||{},window[z("0x39")].loadSNID=w,window[z("0x39")][z("0x3a")]=x}()}],r.c=n,r.d=function(e,t,i){r.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:i})},r.r=function(e){z("0xa")!=typeof Symbol&&Symbol[z("0x3")]&&Object[z("0x2")](e,Symbol[z("0x3")],{value:z("0xb")}),Object[z("0x2")](e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var i=Object[z("0x6")](null);if(r.r(i),Object.defineProperty(i,z("0x8"),{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}[z("0xc")](null,n));return i},r.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object[z("0xd")].hasOwnProperty[z("0x1")](e,t)},r.p="/",r(r.s=2)}],o.c=r,o.d=function(e,t,i){o.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol[z("0x3")],{value:"Module"}),Object[z("0x2")](e,z("0x4"),{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var i=Object[z("0x6")](null);if(o.r(i),Object[z("0x2")](i,"default",{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype[z("0x9")][z("0x1")](e,t)},o.p="/",o(o.s=0)}function o(e){s.log("Nextroll ID fetched",e||"(empty)"),function(e){if(null!=e&&""!==e)return 1;a("E")}(e)&&(i=e,a("A"),s.lw(d,e))}}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":31}],26:[function(i,e,t){var n,r=i("../utils"),o="_pubcid",a="PublisherCommonId",s=r.cr("_pubcid_optout"),d="N";try{s||("object"==typeof window[a]?(n=window[a].getId(),d="A",r.log("Read pubcid from API:"+n)):(n=r.cr(o),d=n?"C":(n=r.lr(o))?"L":(n=r.genUUID(),"G"),r.cw(o,n,1825),r.lw(o,n),window[a]={getId:function(){return n}},r.log("Read pubcid from cache"+n)))}catch(e){r.err("pubcid init fail",e),d="E"}e.exports=function(e,t){n&&t.on("unit.config",function(e,t){t.set("userId.pubcid",n),t.set("userIdAsEids.pubcid",{source:"pubcid.org",uids:[{id:n,atype:1}]})}),t.on("gamkvp.getids",function(e,t){n?t.push("i1y"):t.push("i1n")}),r.thread(function(){i("../analytics.js").meta("i1",d)})()}},{"../analytics.js":11,"../utils":31}],27:[function(e,t,i){var d=e("../utils.js");t.exports=function(e,t){var i="_adbrh",n=i,r=d.qs("adb_rh");if("0"===r?d.cw(i,"",0):r&&d.cw(i,"1",365),d.cr(i)){d.log("RH ad creative history activated.");var o={dfp:[],adb:[]};try{(o=(o=localStorage.getItem(n))&&JSON.parse(o))&&o.dfp||(o={dfp:[],adb:[]})}catch(e){d.err("RH failed to load history from local storage")}function a(e,t){return{t:(new Date).toString(),d:d.url().domain,u:d.url().page,i:e.getSlotElementId(),s:e.getAdUnitPath(),e:t}}function s(e,t){t=e.length-t;0<t&&e.splice(0,t),localStorage.setItem(n,JSON.stringify(o))}t.on("gpt.render_raw",function(e,t){var i={advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,isEmpty:t.isEmpty,lineItemId:t.lineItemId,size:t.size,sourceAgnosticCreativeId:t.sourceAgnosticCreativeId,sourceAgnosticLineItemId:t.sourceAgnosticLineItemId};d.each(i,function(e,t){e||delete i[t]});t=a(t.slot,i);o.dfp.push(t),s(o.dfp,20)}),t.on("bid.render",function(e,t){t=a(t.config.unit.get("gpt_slot"),{config:t.config.unit.alias,bidder:t.config.bidder_name,bidderid:t.config.bidder_unit_id,extras:t.extras,ad:escape(t.creative)});o.adb.push(t),s(o.adb,20),d.rec(["RH",JSON.stringify(t)])});t=document.createElement("DIV");t.style="display:block;cursor:pointer;position:fixed;z-index:99999999;top:5px;right:50%;padding:5px 20px;background:red;border:black;box-shadow:1px 2px 6px white;color:white;font-size:12px;",t.innerText="Ad History",t.addEventListener("click",function(){document.write("<button onclick=\"document.getElementById('debuginfo').select()\">Select All</button>&nbsp;|&nbsp;<button onclick=\"localStorage.removeItem('_adbrh');location.reload()\">Clear History</button>&nbsp;|&nbsp;<button onclick=\"location.reload()\">Refresh</button><br><textarea cols=100 rows=100 style='max-height:80%;max-width:80%' id='debuginfo'>"+JSON.stringify(o,null,2)+"</textarea>")}),document.body.appendChild(t)}}},{"../utils.js":31}],28:[function(e,t,i){var a=e("./utils.js");function n(e){var t=this,i=e.url,n=e.config,r=e.id,o=e.callback,e=e.loaded;this.url=i,this.config=n,this.handlers={},this.id=r,this.loaded=e,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):a.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},a.load(i,this.callback,!0)}n.install=function(e){return new n({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},n.prototype.getConfig=function(){return this.config},n.prototype.setRender=function(e){this.render=e},n.prototype.setEventHandlers=function(e){this.handlers=e},n.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),a.log("Prebid Renderer event for id "+t+" type "+e)},n.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){a.err("Error processing Renderer command: ",e)}},t.exports=n},{"./utils.js":31}],29:[function(e,t,i){function f(t){var e="GET"===t.method&&("object"==typeof t.data?b.toqs(t.data,!0):t.data),e={method:t.method,url:"GET"===t.method&&e?[t.url,"?",e].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType};return s.libSettings().ajaxraw&&(e.rawProcessor=function(e){s.libSettings().ajaxraw(t,e)}),e}function r(e,t){var i=t.config.size.split("x"),t=i[0],e=(2*(i=i[1])<t?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",i,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"]:["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",i,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"]).join("");return e+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function m(e,t){return{creative:e.ad||(e.native?(i=e.native,((n=t).unit.settings&&n.unit.settings.nativeTemplate||r)(i,n)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId||e.dealid,crid:e.creativeId||e.creativeid,ttl:e.ttl,cur:e.currency,nr:e.netRevenue,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var i,n}function n(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var i=t.split("="),t=i[0],i=i[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(i)):e[t]=i||"",e},{}):{}}var o,a,h=e("./ajax.js"),b=e("./utils.js"),s=e("./config.js"),d=e("./renderer.js"),_={auction:void 0,gdpr_consent_object:void 0},e=function(e,t){var i=document.createElement("a");t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);t=t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:t?i.search:n(i.search||""),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}},v={createEidsArray:function(){var e=_.auction.findUnit(function(){return 1}),e=e&&e.toPrebidUIDs();return e&&e.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getRefererInfo:function(){return{referer:b.url().href,stack:[b.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},utils:{mergeDeep:function(e,t){if(!e||!t||"object"!=typeof e||"object"!=typeof t)return e;for(var i in t){var n=typeof t[i];switch("object"===n&&Array.isArray(t[i])&&(n="array"),n){case"array":e[i]=(e[i]||[]).concat(t[i]);break;case"object":e[i]=v.utils.mergeDeep(e[i]||{},t[i]);break;default:e[i]=t[i]}}return e},getGptSlotInfoForAdUnitCode:function(t){var e;return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots&&(e=find(window.googletag.pubads().getSlots(),function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t})),e?{gptSlot:e.getAdUnitPath(),divId:e.getSlotElementId()}:{}},parseUrl:function(e,t){var i=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:t?i.search:n(i.search||""),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+v.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:b.qs,getAdUnitSizes:!1,parseQueryStringParameters:function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&(i+=t+"="+encodeURIComponent(e[t])+"&");return i},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,i,n){i=(t=t||document).getElementsByTagName(i||"head");i.length||(i=t.getElementsByTagName("body"));i=i[0];if(i)return i.insertBefore(e,n?null:i.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!b.url().is_top},_map:function(i,n){if(!i)return[];if("function"==typeof i.map)return i.map(n);var r=[];return b.each(i,function(e,t){r.push(n(e,t,i))}),r},deepAccess:b.deepAccess,deepSetValue:function(e,t,r){return t.split(".").reduce(function(e,t,i,n){return i===n.length-1?e[t]=r:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return b.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:b.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:b.err,logWarn:b.log,logMessage:b.log,logInfo:b.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(n,r){return b.each(n,function(e){var t=n[e],i=n[e];r[e]="function"==typeof t?i(i):"string"===t?i&&i.toString():"number"===t?Number(i):i,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:b.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var i=[];return b.each(e,function(e,t){t={key:t};Array.isArray(e)&&(t.value=e.map(function(e){return e+""})),null!=e&&(t.value=[e+""]),t.hasOwnProperty("value")&&i.push(t)}),i},tryAppendQueryString:function(e,t,i){return i?e+(t+"="+encodeURIComponent(i))+"&":e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:b.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,i){return e.reduce(function(e,t){return(e[t[i]]=e[t[i]]||[]).push(t),e},{})},deepClone:function n(r){return Object.keys(r).reduce(function(e,t){var i={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===i||"Object"===i?n(r[t]):"Date"===i?new Date(r[t].getTime()):"RegExp"===i?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,n){return e.reduce(function(e,t,i){return i%n?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var i=[];i.length<t;i.push("object"==typeof e?v.utils.deepClone(e):e));return i},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:b.genUUID,getBidRequest:function(e,t){for(var i=0;i<t.length;++i)for(var n=t[i],r=0;r<n.bids.length;++r){var o=n.bids[r];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}b.err("shimGetBidRequestFail",e)},triggerPixel:function(e){b.uspi("S2S",e)},uniques:function(e,t,i){return i.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return b.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:b.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,_each:b.each,urlUtils:{parse:e},getUniqueIdentifierStr:function(){return++o},url:{type:o=0,parse:e,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(v.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return b.url().href;case"bidderTimeout":return _.auction.max_ms;case"consentManagement.cmpApi":return _.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"priceGranularity":return"custom";case"customPriceBucket":return{buckets:(s.libSettings().bid_strategy||"").split(",").map(function(e){var t=e.split(":"),e=t[1].split("-").map(Number);return{precision:2,increment:t[0],min:e[0],max:e[1]}})};default:return v.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return b.err("defaults must be an object");b.assign(v.config.config,e)}},parse:e,registerBidder:function(){},userSync:{registerSync:function(e,t,i){var n="image"===e||"img"===e?b.uspi:"iframe"===e?b.uspf:void 0;n?n(t,i):b.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:d,loadExternalScript:function(e,t){b.log("module "+t+"is loading external JavaScript"),b.load(e,null,!0)},ajax:function(e,n,t,i){b.ajax(b.assign({},i,{data:t,url:e}),function(e,t,i){e&&n.error?n.error(e.err,e):n.success?n.success(t,i):n(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return _.PBJSObjects.bidRequests}},getStorageManager:function(){return{getCookie:function(e,t){e=b.cr(e);return t&&"function"==typeof t?t(e):e},cookiesAreEnabled:function(e){var t=b.cookies;return e&&"function"==typeof e?e(t):t},hasLocalStorage:function(e){var t=!!window.localStorage;return e&&"function"==typeof e?e(t):t},setDataInLocalStorage:function(e,t,i){return window.localStorage.setItem(e,t),i&&"function"==typeof i?i():t},getDataFromLocalStorage:function(e,t){e=window.localStorage.getItem(e);return t&&"function"==typeof t?t(e):e}}}};v.isArray=v.utils.isArray,v.isInteger=v.utils.isInteger,v.deepAccess=v.utils.deepAccess,v.generateUUID=v.utils.generateUUID,v.triggerPixel=v.utils.triggerPixel,v.convertTypes=v.utils.convertTypes,v.parseUrl=v.utils.parseUrl,t.exports={wrap:function(l){var g={};return function(d,c,e,u,p){this.gdprSupport=l.gdprSupport,this.uspSupport=l.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=l.unitIDKey,i=l.floorKey,n=l.floorStr,r=e,delete(e=b.deepAssign({},r.params)).adjust,e[t]=r.bidder_unit_id,"string"==typeof e[t]&&-1===["undertone","yieldmo","pubmatic"].indexOf(r.bidder_name)&&e[t].match(/^\d+$/)&&(e[t]=parseInt(e[t])),"string"==typeof e.size&&(e.size=b.sizeStrToArr(e.size)),i&&(e[i]=r.min_cpm,n&&(e[i]=e[i].toFixed(2))),!e.video&&r.mediaTypes.video&&(e.video=b.copy(r.mediaTypes.video)),e;var t,i,n,r},this.getPrebidReqCtr=function(e){return(g[e]||0)+1},p&&p.on("pub.spa_pv_shutdown",function(){g={}}),this.execute=function(n){var t={};n.eachBidRequest(d,function(e){e=e.toPrebidAdUnitCode();t[e]||(t[e]=!0,g[e]=(g[e]||0)+1)}),_.auction=n,_.gdpr_consent_object=u,_.alias=d;var r=n.toPrebidBidderReq(d);p.trigger("bidder.requested",r,n),l.floorKey&&l.floorStr&&r.bids.forEach(function(e){e.params[l.floorKey]=String(e.params[l.floorKey])}),r.start=(new Date).getTime();var e={bidderRequest:r,bidRequests:r.bids};_.PBJSObjects=e,"adagio"===d&&b.wrapAsync(l.spec.isBidRequestValid,void 0,l.spec)({params:{}});var o=b.wrapAsync(l.spec.buildRequests,void 0,l.spec)(e.bidRequests,e.bidderRequest);Array.isArray(o)||(o=[o]);var i,a=[],s=(e=d,i={},n.eachBidRequest(e,function(e,t){i[t.id]={config:t,unit:e}}),i);o.map(f).forEach(function(e,i){e.max_ms=n.ajax_ms,h(e,b.wrapAsync(function(e,t){a.push(t),!e&&t&&(t=b.wrapAsync(l.spec.interpretResponse,void 0,l.spec)({body:t},o[i]),Array.isArray(t)||(t=[t].filter(Boolean)),t.forEach(function(e){var t,i,n=s[e.requestId];if(!n)return b.err(["unrequested response from",d,":",JSON.stringify(e)].join(" "));e.requestTimestamp=r.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,t=e,i=n.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&i.renderer?(e=m(e,n),n.unit.addBid(n.config,e)):n.unit.addEmptyBid(n.config),n.found=!0})),a.length===o.length&&(Object.keys(s).map(function(e){return s[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),p.trigger("bidder.done",r,d,n),[].concat(l.spec.getUserSyncs&&b.wrapAsync(l.spec.getUserSyncs,void 0,l.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){v.userSync.registerSync(e.type,c,e.url)}))}))})}}},polyfills:v}},{"./ajax.js":10,"./config.js":13,"./renderer.js":28,"./utils.js":31}],30:[function(e,t,i){var C=e("./utils"),j=e("./analytics"),R=e("./modules"),k=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=C.genID("U"),this.uuid=C.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var _=this,u={},v={},p=0,r={},y=[],l={},o=!1,x=!1,t=!1,w=!1,g=!1,a=[];this.init=function(){e&&(_.set(e),R.trigger("unit.init_config",_))},this.restrictSizesTo=function(e){_.all_sizes=_.original_sizes,C.logl("sz","Unit",_.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(g)),g=e,a.length&&_.allowSizes(a);for(var t,i,n=[],r=_.all_sizes.length-1;0<r;--r)-1===g.indexOf(_.all_sizes[r])&&(t=_.all_sizes[r],_.all_sizes.splice(r,1),0<=(i=_.other_sizes.indexOf(t))&&_.other_sizes.splice(i,1),n.push(t));s(),C.logl("sz","Unit",_.alias,"removed sizes",JSON.stringify(n),"allowed sizes",JSON.stringify(g)),R.trigger("unit.restrict_sizes",_,g,n)},this.allowSizes=function(e){a=[],C.each(e,function(e){C.logl("sz","Unit size added",_.alias,e),g&&-1==g.indexOf(e)&&g.push(e),-1==a.indexOf(e)&&a.push(e),-1==_.other_sizes.indexOf(e)&&_.other_sizes.push(e),-1==_.all_sizes.indexOf(e)&&_.all_sizes.push(e),s()}),C.logl("sz","Unit",_.alias,"allowed sizes",a),R.trigger("unit.allow_sizes",_,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?_.hasOwnProperty(t)&&"function"!=typeof _[t]&&(_[t]=JSON.parse(JSON.stringify(e[t]))):C.each(e[t],function(e,t){_.settings[t]=e}));_.all_sizes=[_.size].concat(_.other_sizes),_.original_sizes=[].concat(_.all_sizes),C.logl("sz","Unit definition original_sizes=",JSON.stringify(_.original_sizes),"size=",JSON.stringify(_.size),"other_sizes=",JSON.stringify(_.other_sizes)),C.qs("adb_force_bidder")&&(_.min_cpm=0),s(),R.trigger("unit.config",_)},this.addBidder=function(e,t){l[e]=t},this.eachBidder=function(e){for(var t in l)l.hasOwnProperty(t)&&u[t]&&e(t,l[t])},this.hasBidReqConf=function(){return 0<p},this.addBidReqConf=function(a,e,t){var s,d={id:C.genID("BR"),uuid:C.genUUID(),unit:_,adjust:1,bidder_name:a,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:_.min_cpm,size:_.size,other_sizes:_.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(){var e=_.auction.getBdrReqId(a),t=_.toPrebidUIDs(),i=C.copy(_.settings.mediaTypes),n=f(i,_.all_sizes),r=_.toPrebidAdUnitCode();s=s||l[a].getPrebidReqCtr(r);var o=_.get("imp_ctr")||1,n=C.assign({src:"client",adUnitCode:r,adbconfig:_.alias,auctionId:_.auction.uuid,bidId:d.id,bidder:a,bidderRequestId:e,bidderRequestsCount:s,bidderWinsCount:0,bidRequestsCount:o,mediaTypes:i,params:d.params,sizes:n,transactionId:_.uuid,renderer:_.settings.renderer},t),t=d.mediaTypes.native||d.nativeParams;return t&&(n.nativeParams=t),n}};if(l[a]){C.deepAssign(d,_.settings,l[a].settings,e.settings),d.params=C.deepAssign({},l[a].settings,e.settings),1!=d.adjust&&(d.min_cpm=Number((d.min_cpm/d.adjust).toFixed(2)));var i=[],n=!1;if("function"==typeof e.mutate&&i.push({n:"BidReq",f:e.mutate}),"function"==typeof l[a].mutate&&i.push({n:"Bidder",f:l[a].mutate}),C.each(i,function(e){e.f(d,t)||(n=!0,C.log(e.n+" mutate rejected BR: ",d))}),!n)if(!d.test||C.qsab(a,d.bidder_id,!0)){if(e.settings.size?d.other_sizes=[]:"string"==typeof d.other_sizes&&(d.other_sizes=d.other_sizes?d.other_sizes.split(","):[]),g){var r=[];0<=g.indexOf(d.size)&&r.push(d.size);for(var o=0;o<d.other_sizes.length;++o){var c=d.other_sizes[o];0<=g.indexOf(c)&&r.push(c)}if(!r.length)return void(g.length&&C.log("Unit ",_.alias," skipped configuration for ",d.bidder_name," because it does not support any of these sizes: ",g));d.size=r[0],d.other_sizes=r.slice(1)}d.all_sizes=[d.size].concat(d.other_sizes),C.logl("sz","Bid request sizes:",d.all_sizes),u[a]||(u[a]=[]),u[a].push(d),v[d.id]=d,++p,d.params=l[a].buildPrebidParams(d),R.trigger("unit.config_brc",_,d)}else C.log("Test configuration skipped: ",d)}else C.err("BR missing bidder",a)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?C.each(u[e],t):C.each(v,t)},this.getBidReqConf=function(e){return v[e]||!1},this.set=function(e,t){if("object"!=typeof e)r[e]=t;else for(var i in e)e.hasOwnProperty(i)&&_.set(i,e[i])},this.setImpData=function(e,t,i){var n=_.get("adb_imp_data")||{};n[e]=i&&n[e]||t,_.set("adb_imp_data",n)},this.get=function(e){return r[e]},this.halt=function(){x=!0},this.onReady=function(e){t=e,A()};var A=function(){w&&t&&setTimeout(function(){t(_)},0)};this.markEmpty=function(e){_.eachBidReqConf(e,function(e){e.responses.length||_.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=v[t]))return void C.err("Could not find bid req: ",t)}e.responses.length||x&&e.late_responses.length||_.addBid(e,{})};function S(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}this.addBid=function(e,t){if(!e||!_.getBidReqConf(e.id))return C.err("Bid request from ",e.bidder_name,"not found on unit",_.id),!1;var i=t.config&&t.config.unit&&t.config.unit.unique_id,n=Number(parseFloat(t.cpm).toFixed(2))||0,r=Number(t.width)||0,o=Number(t.height)||0,a=t.creative||"",s=t.creative_url||"",d=t.extras||{},c=t.force||!1,u=t.render,p=t.vastUrl,l=t.vastXml,g=t.rawbid;n||(t.empty=!0);var f=Number((n*e.adjust).toFixed(2)),m=e.min_cpm;!i&&0<m&&f<m&&(f=0);var h=k.libSettings().pubchkcreativefn;a&&"function"==typeof h&&!h(e,t,k.libSettings())&&(C.log("Creative blocked: ",e.bidder_id,r,o,f,d),f=0);var b=i?t.ts:C.dts(),h=i?t.ms:Math.round(b-_.auction.ts),p={id:_.id+"."+C.genID("B"),ms:h,ts:b,config:e,viable:!x,cpm:f,_min_cpm:m,_bid_cpm:n,force:c,width:r,height:o,creative:a,creative_url:s,extras:d,render:u,vastUrl:p,vastXml:l,rawbid:g};if(i&&((p._origin=t)._pool||(t._pool=[]),t._pool.push(p)),I(p),function(e,t){for(var i=0;i<e.responses.length;++i)if(S(t,e.responses[i]))return!0;for(i=0;i<e.late_responses.length;++i)if(S(t,e.late_responses[i]))return!0;return!1}(e,p))return C.log("Unit ",_.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),!1;l=p.viable?"":"late ";!p.cpm&&0<p._bid_cpm?(g=1!=e.adjust?" * "+e.adjust+" = "+Number((p._bid_cpm*e.adjust).toFixed(2)):"",l+="below-floor ("+p._bid_cpm+g+" < "+p._min_cpm+") "):t.empty&&(l+="empty ");i=i?" (pooled from "+i+")":"";return C.log("Unit",_.alias,"got",l+"bid"+i,"from",e.bidder_name,"on BR",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),R.trigger("bid.ready",p),p.pbjsBid&&z(p),p.viable?(e.responses.push(p),y.push(p),R.trigger("bid.response",p),function(){if(!x){for(var e in v){var t=v[e];if(t.responses&&!t.responses.length)return}w=!0,A()}}()):(e.late_responses.push(p),j.lateBid(p)),p},this.getWinner=function(){return o||("function"==typeof k.libSettings().filter_bid&&C.wrapAsync(k.libSettings().filter_bid),C.each(y,function(t){R.trigger("bid.auction_close_filter",_,t),t.blocked&&(t.cpm=0,C.log("Bid filtered out",_.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&g&&-1==g.indexOf(e)&&(!k.libSettings().bypass_size_check||-1==k.libSettings().bypass_size_check.bidder.indexOf(t.config.bidder_name))){var i=t._origin?"(pooled bid from "+t._origin.config.unit.unique_id+")":"";return C.log("Unit ",_.alias,"rejected",i,t.config.bidder_name,"invalid size",e),void(t._origin||C.err("U",_.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,g))}e=t.cpm&&(!o||t.cpm>o.cpm||t.cpm==o.cpm&&.5<Math.random());if(o&&o.force&&(e=!1),t.force||e){o=t;try{function n(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))}n("creative"),n("creative_url")}catch(e){C.err("Macro failed: ",e)}}}),o&&(C.log("Unit ",_.alias,"set winner to ",o.config.bidder_name,o._origin&&"(pooled bid from "+o._origin.config.unit.unique_id+")"||"",o.width+"x"+o.height,o.cpm.toFixed(2)),R.trigger("bid.auction_winner",o))),o},this.toPrebidUIDs=function(){var n=!1;return C.each(r,function(e,t){var i=t.match(/^userId\.(.+)$/),t=t.match(/^userIdAsEids\.(.+)$/);!i&&!t||n||(n={userId:{},userIdAsEids:[]}),i&&(n.userId[i[1]]=e),t&&n.userIdAsEids.push(e)}),n&&n.userIdAsEids.sort(function(e,t){return e.name<t.name?1:-1}),n&&n.userId.pubcid&&(n.crumbs={pubcid:n.userId.pubcid}),n||{}};function n(e,t){return C.toRange(e,t).kv.split("-").shift()}var s=function(){_.settings.mediaTypes||(_.settings.mediaTypes={}),_.settings.mediaTypes.banner={sizes:_.all_sizes.filter(Boolean).map(C.sizeStrToArr)}},f=function(e,t){var i=e.banner?C.copy(e.banner.sizes):[];if(e.video){var n=e.video.playerSize;C.isarr(n[0])||(n=[n]);for(var r=0;r<n.length;++r){var o=n[r].join("x");-1===t.indexOf(o)&&i.push(n[r])}}return i},I=function(e){var t,i=e.config.toPrebid();e.rawbid&&e.viable?(t=C.deepAssign({},e.rawbid,{source:"client",statusMessage:"Bid available",currency:"USD",originalCurrency:"USD",cpm:e.cpm,originalCpm:e._bid_cpm,bidderCode:i.bidder,bidder:i.bidder,requestId:i.bidId,adUnitCode:i.adUnitCode,adbconfig:i.adbconfig,auctionId:i.auctionId,adId:e.id,mediaType:e.rawbid.mediaType,creativeId:e.rawbid.creativeId,netRevenue:e.rawbid.netRevenue,width:e.width,height:e.height}),e.pbjsBidO=C.deepAssign({},t),e.pbjsBid=t):e.pbjsNoBid=i},z=function(e){var t,i=e.width+"x"+e.height,t=(t=e.pbjsBid.cpm,{pbLg:n(t,".5:0-5"),pbMg:n(t,".1:0-20"),pbHg:n(t,".01:0-20"),pbDg:n(t,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:n(t,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:n(t,k.libSettings().bid_strategy)});C.assign(e.pbjsBid,t,{size:i,adserverTargeting:{hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_pb:t.pbMg,hb_size:i,hb_source:"client",hb_format:e.rawbid.mediaType}})};this.toPrebidAdUnitCode=function(){return _.get("dom_id")||_.unique_id},this.toPrebidAdUnit=function(){var e=C.copy(this.settings.mediaTypes),t=f(e,this.all_sizes),i=this.toPrebidUIDs(),n=[];return this.eachBidReqConf(function(e){n.push(C.assign({bidder:e.bidder_name,params:e.params},i))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:n,transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[]};return C.each(y,function(e){return e.pbjsBid?t.bidsReceived.push(e.pbjsBid):e.pbjsNoBid?t.noBids.push(e.pbjsNoBid):e.adbridg_rendered?t.winningBids.push(e.pbjsBid):void 0}),t},this.init()}},{"./analytics":11,"./config":13,"./modules":16,"./utils":31}],31:[function(e,t,g){var n;g.wrapAsync=function(e,t,i){return function(){try{return e.apply(i||this,arguments)}catch(e){t?t(e):g.err("Caught AsyncErr: ",e)}}},g.thread=function(t){return t=g.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},g.attempt=function(e,t){try{return e()}catch(e){}return t};function r(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var i=1,o=(new Date).getTime(),a=function(){try{o-=Math.round(performance.now()),a=function(){return r()+"T"+Math.round(performance.now()).toString(36)},n=[i,o.toString(36),a()]}catch(e){a=function(){return r()+"T"+Math.max(0,(new Date).getTime()-o).toString(36)},n=[i=0,o.toString(36),r()+"T0"]}};a();function f(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i),i}f(document,"readystatechange",function(){var e,t,i;3==r()&&(e=document,t="readystatechange",i=arguments.callee,e.removeEventListener?e.removeEventListener(t,i):e.detachEvent&&e.detachEvent("on"+t,i)),n.push(a())}),g.perfts=function(){return a()},g.pgts=function(){return n},g.dts=function(){return i?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-o).toFixed(2))};var s=0;g.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},g.vp=function(){var e,t,i,n=document;try{e=window.innerWidth,t=window.innerHeight,i=window.pageYOffset}catch(e){}return{w:e||n.documentElement&&n.documentElement.clientWidth||n.body&&n.body.clientWidth||0,h:t||n.documentElement&&n.documentElement.clientHeight||n.body&&n.body.clientHeight||0,y:i||n.body&&n.body.scrollTop||0}},g.cr=function(e){e=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return e=e?decodeURIComponent(e[2]):""},g.cw=function(e,t,i){exp_string=0<(i=i||1)?"max-age="+86400*i:"max-age=-99999";t=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=t},g.lr=function(t){var e,i="",n="";try{(n=localStorage.getItem(t))&&(n=JSON.parse(n),e=(new Date).getTime(),n.e&&parseInt(n.e,36)<e?g.logl("ls","LS expired",t,n,e):(g.logl("ls","LS read",t,n),i=n.v))}catch(e){g.logl("ls","LS read fail",t,n,e)}return i},g.lw=function(t,i,n){try{var e,r={v:i};n&&(e=(new Date).getTime(),r.s=e.toString(36),r.e=(e+864e5*n).toString(36)),r=JSON.stringify(r),localStorage.setItem(t,r),g.logl("ls","LS written",t,i,n,r)}catch(e){g.logl("ls","LS write fail",t,i,n,e)}},g.sr=function(t){try{return sessionStorage.getItem(t)}catch(e){g.logl("ss","SS read fail",t,localStoragePayload,e)}return val},g.sw=function(t,i){try{sessionStorage.setItem(t,i),g.logl("ss","SS written",t,i)}catch(e){g.logl("ss","SS write fail",t,i,e)}};try{g.cw("adbct",1),g.cookies=!!g.cr("adbct"),g.cw("adbct","",-1)}catch(e){}try{g.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}g.https=!("https:"!=location.protocol),g.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,g.genUUID)}catch(e){return 0}},g.qs=function(e){e=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(e)||[]).pop()};var d=g.qs("adb_force_bidder"),c=g.qs("adb_allow_bidder"),u=[];d&&"*"!=d&&(u=u.concat(d.split(","))),c&&"*"!=c&&(u=u.concat(c.split(","))),g.qsab=function(e,t,i){return t=String(t),"*"==c||"*"==d||(!i&&!d||0<=u.indexOf(t)||0<=u.indexOf(e))},g.qsappend=function(e,t,i,n){return n&&!t?"":(i&&(t=encodeURIComponent(t)),"&"+e+"="+t)},g.toqs=function(e,i){var n="";return g.each(e,function(e,t){g.isarr(e)?g.each(e,function(e){n+=g.qsappend(t+"[]",e,i)}):n+=g.qsappend(t,e,i)}),n.replace(/^\&/,"")},g.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var i=0;i<e.length;++i)t(e[i],i);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},g.sizeStrToArr=function(e){return g.isarr(e)?e:"string"==typeof e?e.split("x").map(Number):(g.err("BadSizeConvert",e),e)},g.resize_element=function(e,t,i){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=i&&(e.style.height=i+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=i&&e.setAttribute("height",i)},g.resize_iframe=function(e,t,i,n){try{for(var r=e.document.getElementsByTagName("iframe")||[],o=0;o<r.length;++o)try{if(r[o].contentDocument===t)return g.resize_element(r[o],i,n),void(e!==top&&g.resize_iframe(e.parent,e.document,i,n))}catch(e){}}catch(e){g.err("Error resizing window to "+i+"x"+n,e)}g.err("Failed to resize window to "+i+"x"+n)},g.url=function(){var t,i,n,r,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,i=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,n=e.document.referrer,r=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),i=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,r=n=""}catch(e){}}return t&&i||(t=a.location.host,i=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,n=s.referrer),{domain:t,page:i,href:href,referrer:n,title:r,is_top:d,protocol:o}},g.pixel=function(e,t){t=t?(new Date).getTime():Math.random();document.createElement("img").src=e+"&rnd="+t},g.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},g.pixelf=function(e,t,i){return e?(t&&(e=encodeURI(e)),"<iframe "+(i=i?'sandbox="'+i+'"':"")+' id="'+g.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var p,l=[],m={};g.uspf=g.wrapAsync(function(e,t){g.logl("px","UserSync qF",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||l.push({a:e,t:"f",u:t})}),g.uspi=g.wrapAsync(function(e,t){g.logl("px","UserSync qI",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||l.push({a:e,t:"i",u:t})});var h=!0,b=!0,_=500;g.cfusp=function(e,t,i){e||(h=!1),t||(b=!1),i&&(_=i),g.log("UserSync set: ",{image:h,iframe:b,delay:_})};var v=g.wrapAsync(function(){if(clearTimeout(p),l.length){var e=Math.floor(Math.random()*l.length),t=l[e];if(l.splice(e,1),b&&"f"==t.t){e=document.createElement("div");e.innerHTML=g.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(e.firstChild),g.log("UserSync (F): ",t.a,t.u)}else{if(!h||"i"!=t.t)return g.log("UserSync not sent (!): ",t),v();document.createElement("img").src=t.u,g.log("UserSync (I): ",t.a,t.u)}p=setTimeout(v,50)}});g.qdusp=function(){if(g.logl("px","UserSync Q",l,_,h,b,g.safari,g.cookies),g.safari||!g.cookies)return g.logl("px","UserSync skipped",g.safari,g.cookies);clearTimeout(p),p=setTimeout(v,_)};var y={};g.load=function(e,t,i,n){if(t=t?g.wrapAsync(t):function(){},!i||!y[e]){i&&(y[e]||(y[e]={ready:!1,cbs:[t]}),t=function(){y[e].ready=!0,g.each(y[e].cbs,function(e){e()})});var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e,(n||document.body||document.head).appendChild(r),r}y[e].ready?t():y[e].cbs.push(t)},g.loadCached=function(e,t){g.load(e,t,!0)},g.iiframe=function(e){var t=document.createElement("iframe");return t.id=g.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},g.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.prepend?e.prepend(t):e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var x=!(g.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});g.isdebug=function(){return x},g.setdebug=function(e){e&&(x=e,document.cookie="adb_debug="+x+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},g.setdebug(g.qs("adb_debug")||g.cr("adb_debug")),g.log=function(){if(x){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+g.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},g.logl=function(e){x==e&&g.log.apply(g,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var w=[];g.err=function(){var t=Array.prototype.slice.apply(arguments);if(x){var e=[].concat(t);e.unshift("AdBridg | "+g.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}w.length&&g.each(w,function(e){e.apply(null,t)})};var A=!(g.onerr=function(e){w.push(e)}),S=[];g.onrec=function(e){for(A=e;S.length;)A(S.shift())},g.rec=function(e){A?A(e):S.push(e)};var I={};g.toRange=function(e,t){e=Math.round(100*e);for(var i=function(e){if(!I[e=e||".05:.05-10"]){I[e]=[];for(var t=e.split(","),i=0;i<t.length;++i){var n=t[i].split(":"),r=n[1].split("-"),r={increment:Math.round(100*parseFloat(n[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};i==t.length-1&&(r.final=r.upper-r.increment),I[e].push(r)}}return I[e]}(t),n=0;n<i.length;++n){var r=i[n];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var o=Math.floor(e/r.increment)*r.increment/100,a=parseFloat((o+r.increment/100).toFixed(2)),r=a-.01;return{r:a,kv:Math.max(.01,o).toFixed(2)+"-"+r.toFixed(2)}}}};var z=function(e){return 61<e?z(e/62|0)+z(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+z(-e):"NaN"};g.b62=z,g.fb62=function(e){for(var t=0,i=e.length-1,n=i;0<=n;n--){var r=e.charCodeAt(n),o=n===i?1:Math.pow(62,i-n);if(96<r&&r<123)t+=o*(r-87);else if(64<r&&r<91)t+=o*(r-29);else{if(!(47<r&&r<58))return NaN;t+=o*(r-48)}}return t},g.dom=g.wrapAsync(function(e,t,i,n,r,o){C.add(e,t,i,n,r,o)}),g.undom=g.wrapAsync(function(e,t){C.remove(e,t)}),g.lzrescan=g.wrapAsync(function(){C.rescan()});var C=new function(){var t,s={},d=0,c=[],i=!1,n=!1,u=!1;this.add=function(e,t,i,n,r,o){var a;e instanceof Node&&((a=e).id||(a.id=g.genID("adb_auto_")),e=a.id),s[e]=s[e]||[],s[e].push({c:n,d:t,t:i,i:e,f:r,x:o}),d+=1,l()},this.remove=function(e,t){var i,n=s[e]||[];if(t)for(i=n.length-1;0<=i;--i)n[i].c===t&&s[e].splice(i,1);for(t&&n.length||delete s[e],i=c.length-1;0<=i;--i)t&&c[i].c!==t||c.splice(i,1)},this.rescan=function(){g.logl("lz","Lazy explicit rescan"),t=setTimeout(l,0)},f(window,"scroll",function(){u=!0,!t&&d&&(g.logl("lz","Lazy scroll wait",100),t=setTimeout(l,100))});function p(e,t){if(e.f&&!e.f(e,t,u))return g.logl("lz","Lazy blocked",e,u),!1;if(t.in){if(!e.x)return g.logl("lz","Lazy cannot measure el",e,t),!1;var i=document.getElementById(e.i);if(!i)return g.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var n=(i||{}).parentNode;if(!n)return g.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var r=g.where(n);if(!r.in)return g.logl("lz","Lazy collapse check - parent invis",e,t,r),!1;r=document.createElement("span");r.style="position:absolute;display:block;width:1px;height:1px;",n.insertBefore(r,i);i=g.where(r);n.removeChild(r),g.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:i})),t=i}return 0<e.d&&e.d<1?t.v>e.d:t.d<=e.d}var l=g.thread(function(){var a,e=g.dts();clearTimeout(t),t=!1,i||e-n<50?t=setTimeout(l,50):(i=!0,n=e,g.logl("lz","Lazy measure",e),a=[],g.each(s,function(e,t){var i=g.where(t);if(!i)return g.logl("lz","Lazy no dom",t);for(var n=e.length-1;0<=n;--n){var r=e[n],o=p(r,i);g.logl("lz","Lazy check",JSON.stringify({el:t,coords:i,reqdist:r.d,criteria:o,seenscr:u})),o&&(--d,e.splice(n,1),c.push(r),g.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),g.each(a,function(e){delete s[e]}),e=function(e){for(var t=!1,i=c.length-1;0<=i;--i){var n=c[i],r=n.i;if(g.logl("lz","Lazy check time",n,r," has scroll event: ",u),n.tx){if(!p(n,g.where(r))){g.logl("lz","Lazy back to distance",r),n.tx=0,c.splice(i,1),s[r]=s[r]||[],s[r].push(n),d+=1;continue}}else n.tx=e+n.t;var o=n.tx-e;o<=0?(g.logl("lz","Lazy execute",r),c.splice(i,1),g.thread(n.c)()):t=t?Math.min(1+o,t):1+o}return t}(e)||100,c.length&&(g.logl("lz","Lazy duration wait",e),t=setTimeout(l,e)),i=!1)})};g.where=function(e){if("string"==typeof e&&(e=document.getElementById(e)),!e)return!1;var t=e.getBoundingClientRect(),i=g.vp(),n=t.top,r=t.height,o=t.top+r,a="in_viewport",s=0,d=1,t=0,e=j(e);return e&&(t=1,a="unknown"),n<0?(s=o<0?Math.abs(o):0,a=((d=0<o?o/r:0)?"partially_":"")+"above_viewport"):o>i.h&&(s=n>i.h?n-i.h:0,a=((d=n<i.h?(i.h-n)/r:0)?"partially_":"")+"below_viewport"),{i:e,p:a,d:s,v:d,in:t,c:{vp:i,t:n,h:r,b:o}}},g.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},g.copy=function(e){if(g.isarr(e)){for(var t=[],i=0;i<e.length;++i)t.push(g.copy(e[i]));return t}return"object"==typeof e?g.deepAssign({},e):e},g.deepAssign=function(e){if(!e)return e;for(var i=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];g.each(n,function(e,t){i[t]=g.copy(e)})}return i},g.deepAccess=function(e,t,i){e=t.split(".").reduce(function(e,t){return(e||{})[t]},e);return!e&&i?i:e},g.deepEq=function(n,r,o,a){if(a=a||"",(o=o||[]).some(function(e){return e===a}))return!0;if("function"==typeof r&&r(n))return!0;if("object"!=typeof n||"object"!=typeof r||null==n||null==r)return n===r||{p:a,o1:n,o2:r};var e=Object.keys(Object.assign({},n,r)).reduce(function(e,t){var i=a?a+"."+t:t,i=g.deepEq(n[t],r[t],o,i);return i&&i.hasOwnProperty("p")&&i.hasOwnProperty("o1")&&i.hasOwnProperty("o2")?e.push(i):!0!==i&&(e=e.concat(i)),e},[]);return 0===e.length||e};var j=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){g.err("get_invis_fail")}return!1};g.dom_invisible=g.wrapAsync(function(e){var t=document.getElementById(e),i=j(t);if(i)return"el_"+i;for(var n=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(n+=1,i=j(t))return"anc_"+n+"_"+i;return!1})},{}]},{},[15]);